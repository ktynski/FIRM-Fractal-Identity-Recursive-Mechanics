<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ex Nihilo Reality — Mathematics that compiles</title>
  <link rel="stylesheet" href="assets/site.css" />
</head>
<body>
  <header class="header">
    <div class="brand"><a href="index.html">Ex Nihilo Reality</a></div>
    <nav class="nav" role="navigation" aria-label="Main navigation">
      <a href="index.html">Home</a>
      <button id="eli25Toggle" class="nav-eli25" aria-label="Toggle between technical and simplified explanations">ELI25</button>
      <a href="article.html">Article</a>
      <a href="for_the_skeptics.html">For the Skeptics</a>
      <a href="roadmap.html">Roadmap</a>
      <a href="#gallery">Gallery</a>
      <a href="FIGURE_GALLERY.md">All Figures</a>
      <a href="https://github.com/ktynski/FIRM-Fractal-Identity-Recursive-Mechanics" target="_blank" rel="noopener">GitHub</a>
    </nav>
    <button class="hamburger-menu" aria-label="Open navigation menu">
      <span></span>
      <span></span>
      <span></span>
    </button>
  </header>

  <main>
    <div id="eli25Modal" class="modal" style="display: none;">
      <div class="modal-content">
        <span class="close-button">&times;</span>
        <h2>Explain It Like I'm 25</h2>
        <p>Imagine you're building with LEGOs, but instead of a manual, you have a single, powerful rule. That rule is "φ" (phi, the golden ratio).</p>
        <p><strong>The Core Idea:</strong> This project, FIRM, proposes that the fundamental "rules" of the universe (the physical constants, like the speed of light or the charge of an electron) aren't random. They are the most stable, most perfect structures that can emerge from this single "φ" rule. It's like finding the most stable LEGO castle you can build—it has a specific, mathematically determined shape.</p>
        <p><strong>What We Do:</strong> We don't guess or try to fit the numbers. We start with pure mathematics (our "φ" rule) and build, step-by-step, to derive the values of these constants. The fact that our derived values are incredibly close to what scientists measure in the real world suggests our "φ" rule is on the right track.</p>
        <p><strong>Why It Matters:</strong> If we're right, it means the universe has a deep, underlying mathematical elegance. We could potentially understand *why* the universe is the way it is, not just *what* it is. It's a shift from describing the universe to truly understanding its blueprint.</p>
      </div>
    </div>
    <section class="hero">
      <div class="hero-content">
        <h1>
          <span data-technical="We derived the universe's constants from pure mathematics">We derived the universe's constants from pure mathematics</span>
          <span data-layperson="We cracked the universe's code">We cracked the universe's code</span>
        </h1>
        
        <p class="hero-subtitle">
          <span data-technical">Instead of measuring fundamental constants and asking "why these numbers?", we use mathematical first principles to show why they must exist.</span>
          <span data-layperson">The numbers that control everything—from atoms to galaxies—aren't random. We found the mathematical recipe that creates them.</span>
        </p>

        <div class="key-result-hero">
          <div class="key-equation">
            α⁻¹ = 137 + φ⁻⁶ ≈ 137.05573<br/>
            <em>0.014% accuracy vs. experiment</em>
          </div>
          <p class="result-explanation">
            <span data-technical">Our φ-recursive framework predicts the fine structure constant to 0.014% accuracy—a significant improvement over empirical fitting approaches.</span>
            <span data-layperson">We predicted one of nature's most important numbers with 99.986% accuracy. That's like hitting a penny from 2 miles away.</span>
          </p>
        </div>

        <div class="hero-cta">
          <a class="cta primary" href="article.html">Read the Full Theory</a>
          <a class="cta secondary" href="for_the_skeptics.html">For Skeptics</a>
        </div>
      </div>
      
      <div class="how-it-works">
        <h2>
          <span data-technical>The Mathematical Framework</span>
          <span data-layperson>How We Did It</span>
        </h2>
        
        <div class="method-steps">
          <div class="step">
            <div class="step-number">1</div>
            <div class="step-content">
              <h3>
                <span data-technical>Start with Pure Mathematics</span>
                <span data-layperson>Start with Basic Rules</span>
              </h3>
              <p>
                <span data-technical>We begin with five foundational axioms that establish a mathematical framework—no physical constants, no experimental data, just pure logical structure.</span>
                <span data-layperson>We started with simple mathematical rules about how systems can change and stay stable. No physics, no measurements—just pure logic.</span>
              </p>
            </div>
          </div>
          
          <div class="step">
            <div class="step-number">2</div>
            <div class="step-content">
              <h3>
                <span data-technical>Derive the Grace Operator</span>
                <span data-layperson>Find the Stabilizer</span>
              </h3>
              <p>
                <span data-technical>From these axioms emerges a "Grace Operator"—a mathematical function that finds the most stable configuration for any system.</span>
                <span data-layperson">Our rules automatically create a "stabilizer" that finds the most balanced, stable way for any system to exist.</span>
              </p>
            </div>
          </div>
          
          <div class="step">
            <div class="step-number">3</div>
            <div class="step-content">
              <h3>
                <span data-technical>φ Emerges as Fixed Point</span>
                <span data-layperson>Golden Ratio Appears</span>
              </h3>
              <p>
                <span data-technical>The Grace Operator has a unique fixed point: the golden ratio φ. This isn't chosen—it's the inevitable mathematical consequence.</span>
                <span data-layperson">When we run our stabilizer, it always settles on the golden ratio φ = 1.618... This number emerges naturally, we didn't put it in.</span>
              </p>
            </div>
          </div>
          
          <div class="step">
            <div class="step-number">4</div>
            <div class="step-content">
              <h3>
                <span data-technical>Generate Physical Constants</span>
                <span data-layperson>Predict Nature's Numbers</span>
              </h3>
              <p>
                <span data-technical">Recursive applications of φ generate precise formulas for fundamental constants. The fine structure constant emerges as α⁻¹ = 137 + φ⁻⁶.</span>
                <span data-layperson">Using φ in special patterns, we can calculate the exact numbers that control atoms, light, and the universe itself.</span>
              </p>
            </div>
          </div>
        </div>
        
        <div class="framework-cta">
          <a class="cta secondary" href="article.html#breakthroughs">See the Mathematical Details</a>
        </div>
      </div>
    </section>

    <section class="section" id="featured-gallery">
      <h2>Featured Figures</h2>
      <div id="featuredGrid" class="grid"></div>
    </section>

    <section class="article" id="article">
      <div class="articleLayout">
        <aside class="toc">
          <div class="card">
            <h3>Article Contents</h3>
            <ol class="toc-list">
              <li><a href="article.html#executive">Executive Summary</a>
                <ul class="toc-sub-list">
                  <li><a href="article.html#executive">FIRM Framework Overview</a></li>
                  <li><a href="article.html#executive">Key Achievements</a></li>
            </ul>
              </li>
              <li><a href="article.html#breakthroughs">Theoretical Foundation</a>
                <ul class="toc-sub-list">
                  <li><a href="article.html#breakthroughs">Five Foundational Axioms</a></li>
                  <li><a href="article.html#breakthroughs">Grace Operator Theory</a></li>
                  <li><a href="article.html#breakthroughs">φ-Recursive Patterns</a></li>
          </ul>
              </li>
              <li><a href="article.html#mathematical">Mathematical Development</a>
                <ul class="toc-sub-list">
                  <li><a href="article.html#mathematical">Differential Operators</a></li>
                  <li><a href="article.html#mathematical">Topological Framework</a></li>
                  <li><a href="article.html#mathematical">Category Theory</a></li>
          </ul>
              </li>
              <li><a href="article.html#constants">Physical Constants Analysis</a>
                <ul class="toc-sub-list">
                  <li><a href="article.html#constants">Fine Structure Constant</a></li>
                  <li><a href="article.html#constants">Mass Ratios</a></li>
                  <li><a href="article.html#constants">Coupling Constants</a></li>
            </ul>
              </li>
              <li><a href="article.html#applications">Applications & Extensions</a>
                <ul class="toc-sub-list">
                  <li><a href="article.html#applications">CMB Predictions</a></li>
                  <li><a href="article.html#applications">Neural Networks</a></li>
                  <li><a href="article.html#applications">Consciousness Models</a></li>
          </ul>
              </li>
              <li><a href="article.html#validation">Validation & Limitations</a>
                <ul class="toc-sub-list">
                  <li><a href="article.html#validation">Statistical Analysis</a></li>
                  <li><a href="article.html#validation">Error Assessment</a></li>
                  <li><a href="article.html#validation">Future Work</a></li>
          </ul>
              </li>
          </ol>
            <div class="toc-footer">
              <a href="article.html" class="cta secondary toc-button">Read Full Article →</a>
          </div>
          </div>
        </aside>

        <article>
          <h1>FIRM Theory: Mathematical Framework Overview</h1>
          <h2 id="abstract">Executive Summary</h2>
          <div class="insight">
            <p id="pAbs1">FIRM (Fractal Identity & Recursive Mechanics) proposes a mathematical framework for systematic derivation of fundamental physical constants through φ-recursive principles. The approach develops five foundational axioms and a Grace Operator whose fixed points generate recursive scaling patterns governed by the golden ratio <span class="phi">φ = (1+√5)/2</span>. Notable precision improvements are achieved, particularly for the fine structure constant, though the theoretical foundation requires continued development and independent validation.</p>
          </div>
          
          <div class="comparison">
            <strong>Key Development:</strong> The framework achieves 0.014% agreement with experimental values for the fine structure constant using the formulation α⁻¹ = 137 + φ⁻⁶, representing significant improvement over previous φ-based approaches. However, this precision should be evaluated considering systematic searches through φ-formulations and requires independent verification of theoretical foundations.
          </div>
          
          <div class="warning">
            <strong>Current Status:</strong> FIRM theory represents early-stage theoretical development with promising mathematical results that require broader physics community validation before scientific acceptance. The framework provides systematic mathematical tools for continued exploration in mathematical physics.
          </div>

          <div class="fig"><img id="fAbs1" alt="Conceptual overview" /><div class="caption">Overview of FIRM: from axioms through Grace operator to physical reality.</div><div class="actions"><a id="fAbs1Open" class="btn" target="_blank">open</a><a id="fAbs1Peer" class="btn" target="_blank">peer‑review</a></div></div>
          
          <div class="insight">
            <strong>Continue Reading:</strong> This overview provides a brief introduction to FIRM theory development. For comprehensive theoretical details, mathematical foundations, precision analysis, and validation frameworks, please read the full article.
          </div>
          
          <div class="article-cta">
            <a class="cta" href="article.html">Read the Complete FIRM Theory Article →</a>
          </div>

        </article>
      </div>
    </section>

  <script>
    const RAW_BASE = 'https://raw.githubusercontent.com/ktynski/FIRM-Fractal-Identity-Recursive-Mechanics/main/';

    async function headOrFallback(peer, canon){
      try { const r = await fetch(peer, { method: 'HEAD', cache: 'no-store' }); if (r.ok) return peer; } catch(e){}
      return canon;
    }
    function canonical(filename){ return RAW_BASE + 'figures/canonical_outputs/' + filename; }
    function arxiv(filename){ return RAW_BASE + 'arxiv_paper/FIRM_FINAL_SUBMISSION/figures/peer_review/' + filename; }

    function setFig(imgId, openId, peerId, filename){
      const url = canonical(filename);
      const img = document.getElementById(imgId);
      const open = document.getElementById(openId);
      const peer = document.getElementById(peerId);
      if (img) img.src = url;
      if (open) open.href = url;
      if (peer) headOrFallback(arxiv(filename), url).then(href => peer.href = href);
    }

    // Set up the conceptual overview figure
    document.addEventListener('DOMContentLoaded', function() {
      setFig('fAbs1','fAbs1Open','fAbs1Peer','conceptual_overview_diagram.png');
      
      // Gallery functionality
      const grid = document.getElementById('grid');
      const featuredGrid = document.getElementById('featuredGrid');
      const search = document.getElementById('search');
      const sort = document.getElementById('sort');
      const countBadge = document.getElementById('countBadge');
      const chips = document.getElementById('chips');
      const loadMoreBtn = document.getElementById('loadMore');
      const eliBtn = document.getElementById('eli25Toggle');
      const eli25Modal = document.getElementById('eli25Modal');
      const closeButton = document.querySelector('.close-button');

      // Check for saved ELI25 state
      const isELI25Active = localStorage.getItem('eli25Active') === 'true';
      console.log('ELI25 Debug - Initial state:', isELI25Active, 'Button found:', !!eliBtn);
      if (isELI25Active) {
        document.body.classList.add('eli25-active');
        if (eliBtn) eliBtn.textContent = 'Technical';
      }

      if (eliBtn) {
        eliBtn.addEventListener('click', () => {
          console.log('ELI25 Debug - Button clicked');
          // Toggle between modes
          const isCurrentlyActive = document.body.classList.contains('eli25-active');
          console.log('ELI25 Debug - Current state:', isCurrentlyActive);
          
          if (isCurrentlyActive) {
            // Switch to technical mode
            document.body.classList.remove('eli25-active');
            eliBtn.textContent = 'ELI25';
            localStorage.setItem('eli25Active', 'false');
            console.log('ELI25 Debug - Switched to technical mode');
          } else {
            // Switch to layperson mode
            document.body.classList.add('eli25-active');
            eliBtn.textContent = 'Technical';
            localStorage.setItem('eli25Active', 'true');
            console.log('ELI25 Debug - Switched to layperson mode');
          }
        });
      }

      // Keep modal functionality for explanation
      if (closeButton) {
        closeButton.addEventListener('click', () => {
          eli25Modal.style.display = 'none';
        });
      }

      window.addEventListener('click', (event) => {
        if (event.target == eli25Modal) {
          eli25Modal.style.display = 'none';
        }
      });

      let allFigures = [];
      let visible = 0;
      const PAGE = 40;

      const FEATURED = [
        'fine_structure_constant_derivation.png'
      ];

      async function loadManifest() {
        try {
          const res = await fetch(RAW_BASE + 'figures/peer_review/figure_manifest.json', { cache: 'no-store' });
          if (res.ok) return res.json();
        } catch (e) {}
        return { figures: [] };
      }

      function inferTags(f) {
        const s = (f.filename || '').toLowerCase();
        const tags = [];
        if (s.includes('category') || s.includes('topos')) tags.push('category');
        if (s.includes('geometry') || s.includes('riemann') || s.includes('manifold') || s.includes('curvature')) tags.push('geometry');
        if (s.includes('pde') || s.includes('elliptic') || s.includes('heat') || s.includes('schauder')) tags.push('pde');
        if (s.includes('prob') || s.includes('stochastic') || s.includes('random') || s.includes('clt') || s.includes('lln')) tags.push('probability');
        if (s.includes('topology') || s.includes('homology') || s.includes('cohomology') || s.includes('spectral_sequence')) tags.push('topology');
        return tags;
      }

      const activeTags = new Set();
      let tagCounts = {};

      function computeTagCounts() {
        tagCounts = {};
        for (const f of allFigures) {
          for (const t of inferTags(f)) {
            tagCounts[t] = (tagCounts[t] || 0) + 1;
          }
        }
      }

      function renderChips() {
        computeTagCounts();
        if (!chips) return;
        chips.innerHTML = '';
        const tagsSorted = Object.keys(tagCounts).sort((a,b)=> (tagCounts[b]-tagCounts[a]));
        for (const t of tagsSorted) {
          const count = tagCounts[t];
          if (!count) continue;
          const el = document.createElement('div');
          el.className = 'chip' + (activeTags.has(t) ? ' active' : '');
          el.textContent = `${t} (${count})`;
          el.onclick = () => { if (activeTags.has(t)) activeTags.delete(t); else activeTags.add(t); resetAndRender(); };
          chips.appendChild(el);
        }
      }

      function filteredSorted() {
        let q = (search.value || '').toLowerCase().trim();
        let arr = allFigures;
        if (q) {
          arr = allFigures.filter(f => f.filename.toLowerCase().includes(q));
        }
        
        if (activeTags.size) {
          arr = arr.filter(f => {
            const ts = inferTags(f);
            return ts.some(tag => activeTags.has(tag));
          });
        }
        const mode = sort.value;
        if (mode === 'width') arr.sort((a,b)=> (b.width||0)-(a.width||0));
        else if (mode === 'height') arr.sort((a,b)=> (b.height||0)-(a.height||0));
        else arr.sort((a,b)=> (a.filename||'').localeCompare(b.filename||''));
        return arr;
      }

      function resetAndRender() {
        visible = 0;
        if(grid) grid.innerHTML = '';
        renderChips();
        const arr = filteredSorted();
        if(countBadge) countBadge.textContent = arr.length;
        appendMore(arr);
      }

      function appendMore(arr) {
        const next = arr.slice(visible, visible + PAGE);
        visible += next.length;
        if(grid) {
          for (const f of next) grid.appendChild(tileFor(f));
        }
        if(loadMoreBtn) {
          loadMoreBtn.style.display = (visible < arr.length) ? 'block' : 'none';
          loadMoreBtn.onclick = () => appendMore(arr);
        }
      }

      function tileFor(f) {
        const tile = document.createElement('div');
        tile.className = 'tile';
          const img = document.createElement('img'); 
          img.loading = 'lazy'; 
          img.decoding = 'async'; 
          img.src = canonical(f.filename); 
          img.alt = f.filename;
          
          const meta = document.createElement('div'); 
          meta.className = 'meta';
          
          const name = document.createElement('div'); 
          name.className = 'name'; 
          name.textContent = f.filename;

          const tagsContainer = document.createElement('div');
          tagsContainer.className = 'tags';
          const tags = inferTags(f);
          for (const t of tags) {
            const tagEl = document.createElement('span');
            tagEl.className = 'tag';
            tagEl.textContent = t;
            tagsContainer.appendChild(tagEl);
          }
          
          const actions = document.createElement('div'); 
          actions.className = 'actions';
          
          const openBtn = document.createElement('a'); 
          openBtn.className = 'btn'; 
          openBtn.href = canonical(f.filename); 
          openBtn.target = '_blank'; 
          openBtn.textContent = 'open';
          
          actions.appendChild(openBtn);
          meta.appendChild(name);
          meta.appendChild(tagsContainer);
          meta.appendChild(actions);
          tile.appendChild(img);
          tile.appendChild(meta);
          
          return tile;
        }

        // Populate featured grid
        if (featuredGrid) {
          for (const f of FEATURED) {
            featuredGrid.appendChild(tileFor({ filename: f }));
          }
        }

        // Load the gallery data
        loadManifest().then(data => {
        allFigures = data.figures || [];
        resetAndRender();
          if (search) search.addEventListener('input', resetAndRender);
          if (sort) sort.addEventListener('change', resetAndRender);
        });

        const hamburgerMenu = document.querySelector('.hamburger-menu');
        const nav = document.querySelector('.nav');
        if (hamburgerMenu && nav) {
          hamburgerMenu.addEventListener('click', () => {
            nav.classList.toggle('active');
          });
          
          // Close menu when clicking outside
          document.addEventListener('click', (event) => {
            if (!hamburgerMenu.contains(event.target) && !nav.contains(event.target)) {
              nav.classList.remove('active');
            }
          });
        }

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
          anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
              target.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
              });
            }
          });
        });

        const backToTopButton = document.getElementById('backToTop');
        window.onscroll = function() {
          if (document.body.scrollTop > 200 || document.documentElement.scrollTop > 200) {
            if (backToTopButton) backToTopButton.style.display = 'block';
          } else {
            if (backToTopButton) backToTopButton.style.display = 'none';
          }
        };
        if (backToTopButton) {
          backToTopButton.onclick = function() {
            document.body.scrollTop = 0;
            document.documentElement.scrollTop = 0;
          };
        }
    });
  </script>

    <!-- Gallery Section -->
    <section class="section" id="gallery">
      <h2>Figure Gallery</h2>
      <div class="controls">
        <div class="toolbar">
          <input class="search" id="search" placeholder="Search figure names…" />
          <select class="select" id="sort">
            <option value="name">Sort: Name</option>
            <option value="width">Sort: Width</option>
            <option value="height">Sort: Height</option>
          </select>
          <span class="badge" id="countBadge">Loading...</span>
        </div>
      </div>
      <div class="filterchips" id="chips"></div>
      <div id="grid" class="grid"></div>
      <button class="btn loadmore" id="loadMore">Load More</button>
    </section>
    
    <section class="section">
      <div class="card">
        <h3>Reproduce it yourself</h3>
        <p class="subtle">Everything here is generated from code. Clone the repo and run the peer‑review sync to rebuild the canonical set and arXiv copies:</p>
        <pre class="subtle code-block">python figures/peer_review/sync_and_verify.py --generate-math
python figures/peer_review/sync_and_verify.py --prepare-submission</pre>
        <p class="subtle">Outputs: <code>figures/canonical_outputs/</code> (single source of truth) and <code>arxiv_paper/FIRM_FINAL_SUBMISSION/figures/peer_review/</code> (submission‑ready).</p>
      </div>
    </section>
    
    <section class="footer">
      <div>© Ex Nihilo Reality — All figures generated from code; see repository for provenance.</div>
    </section>
  </main>
  <button id="backToTop" class="back-to-top" title="Go to top">↑</button>
</body>
</html>
