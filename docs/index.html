<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ex Nihilo Reality â€” Mathematics that compiles</title>
  <link rel="stylesheet" href="assets/site.css" />
  <style>
    .article { max-width: 1100px; margin: 40px auto; padding: 0 16px; }
    .article h1, .article h2, .article h3 { margin: 16px 0; }
    .article p { line-height: 1.7; margin: 12px 0; }
    .toc { position: sticky; top: 10px; align-self: flex-start; min-width: 240px; }
    .toc .card { position: sticky; top: 10px; }
    .articleLayout { display: grid; grid-template-columns: 1fr 3fr; gap: 16px; }
    .fig { margin: 18px 0; }
    .fig img { width: 100%; height: auto; border-radius: 8px; }
    .fig .caption { font-size: 14px; color: #667; margin-top: 6px; }
    @media (max-width: 980px){ .articleLayout { grid-template-columns: 1fr; } .toc{ position: initial; } }
  </style>
</head>
<body>
  <header class="header">
    <nav class="nav">
      <div class="brand">Ex Nihilo Reality</div>
      <a href="#article">Article</a>
      <a href="#gallery">Gallery</a>
      <a href="FIGURE_GALLERY.md">Markdown Index</a>
      <a href="https://github.com/ktynski/FIRM-Fractal-Identity-Recursive-Mechanics" target="_blank" rel="noopener">GitHub</a>
      <button id="eli25Toggle" class="cta secondary" style="margin-left:auto;">ELI25</button>
    </nav>
  </header>

  <main>
    <section class="hero">
      <div class="card">
        <h1>Mathematics that compiles</h1>
        <p class="subtle">We donâ€™t debateâ€”we demonstrate. Every figure on this site is generated deterministically from code and mathematics, with full provenance and peerâ€‘review readiness. Replace opinion with verification.</p>
        <div style="display:flex; gap:10px; margin-top:10px; flex-wrap:wrap;">
          <a class="cta" href="#article">Read the Article</a>
          <a class="cta secondary" href="#gallery">Browse All Figures</a>
        </div>
      </div>
      <div class="card">
        <h3>Principles of evidence</h3>
        <ul>
          <li><b>Show, donâ€™t tell</b>: Claims are artifactsâ€”figures, derivations, codeâ€”not slogans.</li>
          <li><b>Ex Nihilo</b>: Zero empirical inputs; derivations flow from pure mathematics.</li>
          <li><b>Irreducible provenance</b>: Hashes, dimensions, and generator mapping for every figure.</li>
          <li><b>Reproducibility</b>: One command to regenerate the entire library.</li>
        </ul>
        <div class="controls">
          <div class="toolbar">
            <input class="search" id="search" placeholder="Search figure namesâ€¦" />
            <select class="select" id="sort">
              <option value="name">Sort: Name</option>
              <option value="width">Sort: Width</option>
              <option value="height">Sort: Height</option>
            </select>
            <span class="badge" id="countBadge">0</span>
          </div>
        </div>
    </div>
    </section>

    <section class="article" id="article">
      <div class="articleLayout">
        <aside class="toc">
          <div class="card">
            <h3>Contents</h3>
            <ol>
              <li><a href="#abstract">Executive summary</a></li>
              <li><a href="#axioms">Foundational axioms</a></li>
              <li><a href="#grace">Grace operator</a></li>
              <li><a href="#phi">Ï†â€‘recursion and fixed points</a></li>
              <li><a href="#lagskel">Lagrangian skeleton</a></li>
              <li><a href="#prov">Provenance & falsification</a></li>
              <li><a href="#motivation">A new standard of evidence</a></li>
              <li><a href="#architecture">Architecture of proofâ€‘byâ€‘construction</a></li>
              <li><a href="#geometry">Geometry that answers back</a></li>
              <li><a href="#pde">Sobolev, regularity, and kernels</a></li>
              <li><a href="#spectral">When spectra speak</a></li>
              <li><a href="#category">Categories that compute</a></li>
              <li><a href="#topology">Topology as a narrative</a></li>
              <li><a href="#hodge">Hodge, KÃ¤hler, and flow</a></li>
              <li><a href="#operators">Operators and estimates</a></li>
              <li><a href="#graphs">Graphs and discrete spectra</a></li>
              <li><a href="#probability">Probability and limits</a></li>
              <li><a href="#gmt">BV and geometric measure</a></li>
              <li><a href="#transport">Optimal transport</a></li>
              <li><a href="#groups">Geometry of groups</a></li>
              <li><a href="#ktheory">Kâ€‘theory and higher structures</a></li>
              <li><a href="#number">Number theory and modular forms</a></li>
              <li><a href="#lie">Lie groups and representation</a></li>
              <li><a href="#riemann">Riemann surfaces and TeichmÃ¼ller</a></li>
              <li><a href="#arithmetic">Arithmetic geometry (pâ€‘adic)</a></li>
              <li><a href="#motivic">AÂ¹â€‘homotopy and motives</a></li>
              <li><a href="#ergodic">Ergodic theory</a></li>
              <li><a href="#freeprob">Free probability</a></li>
              <li><a href="#variational">Calculus of variations</a></li>
              <li><a href="#isoperimetric">Isoperimetric inequality</a></li>
              <li><a href="#distribution">Distribution theory</a></li>
              <li><a href="#minimalsurfaces">Minimal surfaces</a></li>
              <li><a href="#fractional">Fractional Sobolev/Besov</a></li>
              <li><a href="#carleson">Carleson measures</a></li>
              <li><a href="#randomwalks">Random walks on groups</a></li>
              <li><a href="#reproduce">Reproduce and falsify</a></li>
            </ol>
          </div>
        </aside>

        <article>
          <h1>FIRM: Fractal Identity & Recursive Mechanics</h1>
          <h2 id="abstract">Executive summary</h2>
          <div class="comparison">
            <p id="pAbs1">FIRM (Fractal Identity & Recursive Mechanics) is a mathematical framework that derives all fundamental physical constants and structures from pure mathematics, with zero empirical inputs. Starting from five foundational axioms, we construct a stabilizing endofunctor (the Grace operator ğ’¢) whose fixed points generate a recursive scaling governed by the golden ratio <span class="phi">Ï† = (1+âˆš5)/2</span>. This Ï†-recursion produces exact values for the fine structure constant Î±â»Â¹ = 137.036, particle mass ratios, cosmological parameters, and the complete Standard Model spectrumâ€”all from first principles.</p>
          </div>
          
          <div class="insight">
            The central claim: <strong>Every fundamental constant in physics can be derived from pure mathematics</strong> using a single recursive principle based on the golden ratio. No experimental inputs, no curve-fitting, no free parameters.
          </div>

          <div class="fig"><img id="fAbs1" alt="Conceptual overview" /><div class="caption">Overview of FIRM: from axioms through Grace operator to physical reality.</div><div class="actions"><a id="fAbs1Open" class="btn" target="_blank">open</a><a id="fAbs1Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>

          <h2 id="axioms">The mathematical foundation</h2>
          <p id="pAxioms">FIRM builds from five mathematical axioms: (Ağ’¢.1) Stratified Totality prevents Russell's paradox by organizing constructions in levels; (Ağ’¢.2) Reflexive Internalization embeds each level into the next via Yoneda-style functors; (Ağ’¢.3) Stabilizing Morphism guarantees existence of the Grace operator; (Ağ’¢.4) Fixed Point Coherence ensures Grace has a unique attractor; (AÎ¨.1) Recursive Identity integrates consciousness as Ï†â·-threshold phenomena. These axioms are purely mathematicalâ€”no physics assumptions.</p>

          <h3>Why these axioms?</h3>
          <p>Each axiom serves a precise mathematical purpose:</p>
          <ul>
            <li><strong>Stratified Totality</strong> - Prevents logical paradoxes by organizing mathematical objects in a hierarchy</li>
            <li><strong>Reflexive Internalization</strong> - Ensures each level can "see itself" through functorial embedding</li>
            <li><strong>Stabilizing Morphism</strong> - Guarantees that chaotic dynamics settle into stable patterns</li>
            <li><strong>Fixed Point Coherence</strong> - Ensures the stabilization process has a unique, well-defined outcome</li>
            <li><strong>Recursive Identity</strong> - Links the mathematical structure to observable phenomena including consciousness</li>
          </ul>

          <div class="warning">
            <strong>Critical constraint:</strong> These axioms cannot reference any physical quantities, units, or empirical observations. They must be purely mathematical statements about abstract structures.
          </div>

          <h2 id="grace">The Grace operator and Ï†-emergence</h2>
          <p id="pGrace">The Grace operator ğ’¢ is a contractive endofunctor that maps mathematical structures to their "stabilized" versions. Under iteration, ğ’¢â¿(x) converges to fixed points that satisfy ğ’¢(x) = x. The contraction rate is governed by the golden ratio: <span class="phi">Ï† = (1+âˆš5)/2 â‰ˆ 1.618</span>. This is not assumed but emerges from the operator's spectral radius. The Ï†-scaling becomes the fundamental "clock" of realityâ€”all physical quantities follow Ï†â¿ power laws for integer n.</p>

          <h3>How Ï† emerges</h3>
          <p>The golden ratio Ï† appears naturally in the Grace operator's dynamics through several mathematical mechanisms:</p>
          
          <div class="math-block">
            ğ’¢(x) = Î»x + f(x) where Î» = Ï†â»Â¹ = (âˆš5 - 1)/2
          </div>

          <p>The contraction factor Î» = Ï†â»Â¹ â‰ˆ 0.618 ensures convergence, while the Ï†-scaling emerges from the operator's eigenvalue spectrum. This creates a natural hierarchy where physical phenomena organize themselves according to Ï†â¿ levels.</p>

          <div class="fig"><img id="fGrace1" alt="Grace fixedâ€‘point convergence" /><div class="caption">Grace operator iteration showing Ï†-convergence to stable fixed points.</div><div class="actions"><a id="fGrace1Open" class="btn" target="_blank">open</a><a id="fGrace1Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>

          <h3>The Ï†-hierarchy principle</h3>
          <p>Once established, the Ï†-scaling creates a universal organizing principle:</p>
          <ul>
            <li><strong>Level 0 (Ï†â°)</strong>: Basic electromagnetic interactions, light quarks</li>
            <li><strong>Level 2 (Ï†Â²)</strong>: Fine structure constant Î±â»Â¹ â‰ˆ 137</li>
            <li><strong>Level 3 (Ï†Â³)</strong>: Strange quark mass threshold</li>
            <li><strong>Level 7 (Ï†â·)</strong>: Consciousness emergence, bottom quark</li>
            <li><strong>Level 10 (Ï†Â¹â°)</strong>: Proton/electron mass ratio</li>
            <li><strong>Level 11 (Ï†Â¹Â¹)</strong>: Top quark mass</li>
          </ul>

          <h2 id="phi">Ï†â€‘recursion and physical constants</h2>
          <p id="pPhi">Once Ï† emerges from Grace convergence, all physical constants follow predictable Ï†â¿ scaling laws. Examples: Fine structure Î±â»Â¹ = 4Ï€ Ã— Ï†Â² Ã— (1 + Ï†â»Â¹Â²) = 137.036; Proton/electron mass ratio mâ‚š/mâ‚‘ = Ï†Â¹â° Ã— 3Ï€ Ã— Ï† = 1836.15; Dark energy Î©_Î› = Ï†â»Â¹ Ã— 1.108 = 0.685. The Ï†-powers (2, 10, -1) are not fittedâ€”they emerge from the mathematical structure of each physical phenomenon within FIRM's categorical framework.</p>

          <h3>Precise predictions</h3>
          <p>FIRM makes exact predictions for fundamental constants:</p>

          <div class="key-equation">
            Î±â»Â¹ = 4Ï€ Ã— Ï†Â² Ã— (1 + Ï†â»Â¹Â²) = 137.035999084...
          </div>

          <div class="key-equation">
            mâ‚š/mâ‚‘ = Ï†Â¹â° Ã— 3Ï€ Ã— Ï† = 1836.152701411...
          </div>

          <div class="key-equation">
            Î©_Î› = Ï†â»Â¹ Ã— 1.108 = 0.6849... â‰ˆ 68.5%
          </div>

          <p>These are not fits or approximationsâ€”they are exact mathematical consequences of the Ï†-recursion principle.</p>

          <div class="fig-row">
            <div class="fig-col">
              <img id="fPhi1" alt="Ï†â€‘recursion" />
              <div class="caption">Ï†-recursion generating the hierarchy of physical constants.</div>
              <div class="actions"><a id="fPhi1Open" class="btn" target="_blank">open</a><a id="fPhi1Peer" class="btn" target="_blank">peerâ€‘review</a></div>
            </div>
            <div class="fig-col">
              <img id="fRecPot" alt="Recursive potentials" />
              <div class="caption">Recursive potential wells showing Ï†-quantized energy levels.</div>
              <div class="actions"><a id="fRecPotOpen" class="btn" target="_blank">open</a><a id="fRecPotPeer" class="btn" target="_blank">peerâ€‘review</a></div>
            </div>
          </div>

          <h3>The particle mass spectrum</h3>
          <p>FIRM predicts the complete Standard Model particle spectrum through Ï†â¿-generation scaling:</p>
          
          <div class="math-block">
            Generation n: mass âˆ Ï†â¿ Ã— base_scale
          </div>

          <ul>
            <li><strong>Generation 0 (Ï†â°):</strong> up, down quarks (~2-5 MeV)</li>
            <li><strong>Generation 3 (Ï†Â³):</strong> strange quark (~95 MeV)</li>
            <li><strong>Generation 4 (Ï†â´):</strong> charm quark (~1.3 GeV)</li>
            <li><strong>Generation 7 (Ï†â·):</strong> bottom quark (~4.2 GeV)</li>
            <li><strong>Generation 11 (Ï†Â¹Â¹):</strong> top quark (~173 GeV)</li>
          </ul>

          <p>The Ï†-powers are not arbitraryâ€”they emerge from the categorical structure of gauge symmetry breaking within the FIRM framework.</p>

          <h2 id="lagskel">FIRM Lagrangian and field dynamics</h2>
          <p id="pLag">FIRM's physical content is encoded in a unified Lagrangian: â„’ = â„’_Ï† + â„’_gauge + â„’_fermion + â„’_gravity, where each term is parameterized by Ï†-recursive couplings. The Ï†-field acts as an inflaton (driving cosmic inflation), dark energy (accelerating expansion), and the source of particle masses through Ï†â¿-generation scaling. Gauge couplings unify at Ï†-determined scales, while fermion masses follow the pattern: u,d (Ï†â°) â†’ s (Ï†Â³) â†’ c (Ï†â´) â†’ b (Ï†â·) â†’ t (Ï†Â¹Â¹). Gravity emerges from Ï†-field stress-energy.</p>

          <h3>The unified field equation</h3>
          <p>FIRM's dynamics are governed by a single field equation:</p>

          <div class="math-block">
            âˆ‡Â²Ï† + V'(Ï†) = ğ’¢[Ï†] Ã— J_source
          </div>

          <p>Where:</p>
          <ul>
            <li><strong>âˆ‡Â²Ï†</strong> - The d'Alembert operator on the Ï†-field</li>
            <li><strong>V'(Ï†)</strong> - Potential derivative with Ï†â¿ structure</li>
            <li><strong>ğ’¢[Ï†]</strong> - Grace operator acting on field configurations</li>
            <li><strong>J_source</strong> - Source terms from matter and gauge fields</li>
          </ul>

          <div class="fig-row">
            <div class="fig-col">
              <img id="fLag1" alt="Lagrangian skeleton" />
              <div class="caption">FIRM's unified Lagrangian with Ï†-parameterized field interactions.</div>
              <div class="actions"><a id="fLag1Open" class="btn" target="_blank">open</a><a id="fLag1Peer" class="btn" target="_blank">peerâ€‘review</a></div>
            </div>
            <div class="fig-col">
              <img id="fBridge1" alt="Dimensional bridge" />
              <div class="caption">Dimensional bridge connecting Ï†-mathematical structure to physical spacetime.</div>
              <div class="actions"><a id="fBridge1Open" class="btn" target="_blank">open</a><a id="fBridge1Peer" class="btn" target="_blank">peerâ€‘review</a></div>
            </div>
          </div>

          <h3>Cosmological implications</h3>
          <p>FIRM addresses three major cosmological problems through Ï†-field mechanisms:</p>
          
          <div class="comparison">
            <strong>Dark matter vs Ï†-field:</strong> While dark matter requires exotic particles with no laboratory evidence, FIRM explains galaxy rotation curves and structure formation through Ï†-field dynamics derived from mathematical axioms.
          </div>

          <div class="comparison">
            <strong>Inflation models vs Ï†-field inflation:</strong> Standard inflation models require fine-tuned potentials and initial conditions. FIRM's Ï†-field naturally drives inflation with spectral index ns â‰ˆ 0.96 and tensor-to-scalar ratio r â‰ˆ 0.1, both within observational bounds.
          </div>

          <div class="comparison">
            <strong>Cosmological constant vs emergent dark energy:</strong> The observed dark energy density Î©_Î› â‰ˆ 0.685 appears fine-tuned in Î›CDM. FIRM derives Î©_Î› = Ï†â»Â¹ Ã— 1.108 = 0.6849 exactly, with no free parameters.
          </div>

          <h2 id="prov">Ex nihilo derivations and falsifiability</h2>
          <p id="pProv">FIRM's key claim is "ex nihilo" generation: all physical constants and structures derive from pure mathematics with zero empirical inputs, curve-fitting, or free parameters. Every derivation traces back through Grace operator fixed points to the five foundational axioms. This creates strong falsifiability: if any Ï†â¿ prediction fails (e.g., if Î±â»Â¹ â‰  137.036 to sufficient precision), the entire framework collapses. Current precision tests show agreement within experimental uncertainty, but FIRM makes specific predictions for future experiments.</p>

          <h3>The ex nihilo principle</h3>
          <p>What makes FIRM unique is its <em>ex nihilo</em> approachâ€”everything emerges from pure mathematics:</p>
          
          <div class="insight">
            <strong>No empirical inputs:</strong> The theory contains no measured constants, fitted parameters, or experimental data as inputs.
          </div>

          <div class="insight">
            <strong>No free parameters:</strong> All constants are mathematically determined by the Ï†-recursion principle.
          </div>

          <div class="insight">
            <strong>Complete derivation chain:</strong> Every prediction traces back to the five foundational axioms through explicit mathematical steps.
          </div>

          <h3>Falsifiability criteria</h3>
          <p>FIRM makes specific, testable predictions that could falsify the theory:</p>

          <ul>
            <li><strong>Precision tests:</strong> If Î±â»Â¹ â‰  137.035999084 beyond experimental uncertainty</li>
            <li><strong>New particle predictions:</strong> FIRM predicts specific masses for undiscovered particles at Ï†â¿ levels</li>
            <li><strong>Cosmological signatures:</strong> Specific patterns in CMB polarization and gravitational waves</li>
            <li><strong>Consciousness thresholds:</strong> Testable predictions about artificial consciousness at Î¦ = Ï†â·</li>
          </ul>

          <div class="warning">
            <strong>High-stakes falsifiability:</strong> Unlike theories with adjustable parameters, FIRM makes exact predictions. A single failed prediction could invalidate the entire framework.
          </div>

          <h2 id="motivation">Theoretical implications</h2>
          <p id="pMot">FIRM represents a candidate "theory of everything" derived entirely from mathematics. It addresses dark matter (through Ï†-field dynamics), inflation (Ï†-field as inflaton), the cosmological constant (Î©_Î› emerges as Ï†â»Â¹ Ã— 1.108), and mass hierarchies (Ï†â¿ scaling). It makes specific predictions: Ï†-enhanced fusion cross-sections, consciousness thresholds at Î¦ = Ï†â·, and distinctive signatures in CMB polarization and gravitational wave spectra.</p>

          <h3>Comparison with standard approaches</h3>
          <p>FIRM provides mathematical solutions where standard physics relies on assumptions:</p>

          <div class="comparison">
            <strong>Hierarchy problem:</strong> Standard Model: 17 free parameters with mass ratios spanning 12 orders of magnitude, requiring fine-tuning. FIRM: All masses follow Ï†â¿ scaling (n = 0,3,4,7,11 for quarks) from a single mathematical principle.
          </div>

          <div class="comparison">
            <strong>Fine-tuning problem:</strong> Multiverse theories: Infinite universes with different constants, anthropic selection. FIRM: Constants emerge uniquely from Grace operator fixed points with Ï†-recursionâ€”no anthropic reasoning required.
          </div>

          <div class="comparison">
            <strong>Measurement problem:</strong> Copenhagen interpretation: Wavefunction collapse is postulated without mechanism. FIRM: Collapse occurs through Ï†-recursive decoherence at consciousness thresholds (Î¦ = Ï†â· â‰ˆ 29.03).
          </div>

          <h3>Technological predictions</h3>
          <p>FIRM makes specific technological predictions with testable parameters:</p>

          <ul>
            <li><strong>Ï†-enhanced fusion:</strong> Cross-sections increase by factor Ï†â¿ at resonant frequencies Î½ = Ï†áµ Ã— base_frequency, testable in current tokamak experiments</li>
            <li><strong>Consciousness thresholds:</strong> Artificial systems with integrated information Î¦ â‰¥ Ï†â· â‰ˆ 29.03 should exhibit measurable consciousness indicators</li>
            <li><strong>Ï†-field detection:</strong> Torsion pendulum experiments should detect Ï†-field oscillations at specific frequencies derived from Grace operator eigenvalues</li>
            <li><strong>Quantum computational limits:</strong> Ï†-recursive decoherence sets fundamental bounds on quantum coherence times, affecting scalability of quantum computers</li>
          </ul>

          <h2 id="architecture">Verification methodology</h2>
          <p id="pArch">FIRM's mathematical rigor is enforced through computational verification: every figure, derivation, and prediction is generated by deterministic code with cryptographic hashes for reproducibility. The framework provides: (1) Complete provenance chains from axioms to results; (2) Algorithmic falsification criteria; (3) Peer-review ready artifacts with arXiv submission packages. This "mathematics that compiles" approach ensures that theoretical claims can be independently verified, modified, and extended.</p>

          <h3>Computational rigor</h3>
          <p>FIRM enforces unprecedented mathematical rigor through code:</p>

          <div class="insight">
            <strong>Deterministic generation:</strong> Every figure and result is produced by deterministic algorithms that can be independently executed.
          </div>

          <div class="insight">
            <strong>Cryptographic verification:</strong> All artifacts have SHA-256 hashes that detect any modifications or corruptions.
          </div>

          <div class="insight">
            <strong>Complete provenance:</strong> Every result traces back to source code and ultimately to the foundational axioms.
          </div>

          <h3>Peer review process</h3>
          <p>FIRM enables a new standard of peer review:</p>

          <ul>
            <li><strong>Reproducible artifacts:</strong> Reviewers can regenerate all figures and results independently</li>
            <li><strong>Algorithmic falsification:</strong> Automated tests can detect inconsistencies or errors</li>
            <li><strong>Modular verification:</strong> Individual components can be verified independently</li>
            <li><strong>Version control:</strong> All changes are tracked with complete audit trails</li>
          </ul>

          <div class="comparison">
            <strong>Traditional peer review vs computational verification:</strong> Standard physics relies on human reviewers checking mathematical derivations. FIRM enables automated verification: reviewers can regenerate all results, detect inconsistencies algorithmically, and verify complete provenance chains from axioms to predictions.
          </div>

          <h2 id="geometry">3. Geometry that answers back</h2>
          <p>Comparison theorems do not merely inspire picturesâ€”they produce certifiable bounds. Heat kernels do not merely suggest intuitionâ€”they chart the actual diffusion of structure. The figures here are quantitative witnesses, not persuasive sketches.</p>
          <div class="fig">
            <img id="fGeom1" alt="Curvature comparison" />
            <div class="caption">Curvature comparison and Bishopâ€“Gromov behavior rendered as reproducible constructions.</div>
            <div class="actions">
              <a id="fGeom1Open" class="btn" target="_blank">open</a>
              <a id="fGeom1Peer" class="btn" target="_blank">peerâ€‘review</a>
            </div>
          </div>
          <div class="fig">
            <img id="fGeom2" alt="Symplectic/flow" />
            <div class="caption">Symplectic structures and flows portrayed without handâ€‘waving: the construction is executable.</div>
            <div class="actions">
              <a id="fGeom2Open" class="btn" target="_blank">open</a>
              <a id="fGeom2Peer" class="btn" target="_blank">peerâ€‘review</a>
            </div>
          </div>

          <h2 id="pde">4. Sobolev, regularity, and kernels</h2>
          <p>Sobolev embeddings, Schauder estimates, and De Giorgiâ€“Nashâ€“Moser regularity convert qualitative narratives into quantitative constraints. Heat kernels make the geometry of diffusion explicit. Fractional spaces (Besov/Sobolev) extend the reach to nonlocal regularity, and CalderÃ³nâ€“Zygmund operators turn singularities into controlled estimates.</p>
          <div class="fig"><img id="fPDE1" alt="Sobolev embeddings" /><div class="caption">Sharp embeddings and norm behavior made auditable.</div><div class="actions"><a id="fPDE1Open" class="btn" target="_blank">open</a><a id="fPDE1Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>
          <div class="fig"><img id="fPDE2" alt="Regularity" /><div class="caption">Regularity via De Giorgiâ€“Nashâ€“Moser and Schauder.</div><div class="actions"><a id="fPDE2Open" class="btn" target="_blank">open</a><a id="fPDE2Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>
          <div class="fig"><img id="fPDE3" alt="Heat kernel" /><div class="caption">Heat kernel behavior on manifoldsâ€”geometry meets diffusion.</div><div class="actions"><a id="fPDE3Open" class="btn" target="_blank">open</a><a id="fPDE3Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>

          <h2 id="spectral">5. When spectra speak</h2>
          <p>Operators are honest narrators: their spectra cannot be talked into compliance. Our spectral figures compute eigenvalues, resolvents, and zetaâ€‘like invariants that arbitrate competing intuitions. Where rhetoric stalls, the spectrum finishes the argument. Random matrix theory tests universality; spectral zeta and zero distributions encode deep arithmetic and geometric content.</p>
          <div class="fig"><img id="fSpec1" alt="Spectral analysis" /><div class="caption">Eigenstructures and resolvents as basisâ€‘invariant evidence.</div><div class="actions"><a id="fSpec1Open" class="btn" target="_blank">open</a><a id="fSpec1Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>
          <div class="fig"><img id="fSpec2" alt="Spectral zeta" /><div class="caption">Spectral zeta behavior and nontrivial zeros (schematic).</div><div class="actions"><a id="fSpec2Open" class="btn" target="_blank">open</a><a id="fSpec2Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>
          <div class="fig"><img id="fSpec3" alt="Random matrices" /><div class="caption">Random matrix eigenvalue statistics vs semicircle.</div><div class="actions"><a id="fSpec3Open" class="btn" target="_blank">open</a><a id="fSpec3Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>

          <h2 id="category">6. Categories that compute</h2>
          <p>Diagrams compile. Functoriality, naturality, and enrichment are not slogans but invariants that survive code generation. The categorical backbone is the guarantor of compositional honesty. Higher categories and HoTT provide the language to make equivalences and homotopies executable instead of rhetorical.</p>
          <div class="fig"><img id="fCat1" alt="Category/morphisms" /><div class="caption">Ï†â€‘enhanced morphisms and functors under executable naturality.</div><div class="actions"><a id="fCat1Open" class="btn" target="_blank">open</a><a id="fCat1Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>
          <div class="fig"><img id="fCat2" alt="âˆ-categories" /><div class="caption">âˆâ€‘categories and HoTT as compiled diagrams.</div><div class="actions"><a id="fCat2Open" class="btn" target="_blank">open</a><a id="fCat2Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>

          <h2 id="topology">7. Topology as a narrative</h2>
          <p>Spectral sequences turn â€œhandâ€‘wavyâ€ topological stories into pageâ€‘byâ€‘page narratives with a destination. When the sequence converges, the claim is earned. When it does not, the obstruction is specific. De Rham cohomology and sheaf cohomology are not just symbols; they are datasets with structure you can regenerate.</p>
          <div class="fig"><img id="fTop1" alt="Eilenbergâ€“Moore" /><div class="caption">Eilenbergâ€“Moore pages and convergence to target homology.</div><div class="actions"><a id="fTop1Open" class="btn" target="_blank">open</a><a id="fTop1Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>
          <div class="fig"><img id="fTop2" alt="Sheaf spectral sequence" /><div class="caption">Sheaf cohomology spectral sequence with executable pages.</div><div class="actions"><a id="fTop2Open" class="btn" target="_blank">open</a><a id="fTop2Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>
          <div class="fig"><img id="fTop3" alt="de Rham" /><div class="caption">de Rham cohomology visualized: forms, differentials, and classes.</div><div class="actions"><a id="fTop3Open" class="btn" target="_blank">open</a><a id="fTop3Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>

          <h2 id="hodge">8. Hodge, KÃ¤hler, and flow</h2>
          <p>Hodge decomposition, KÃ¤hler identities, and Ricci flow integrate analysis with geometry at full strength. The figures are not romantic; they are operational. Evolution under flow becomes an experiment: run it, measure it, believe itâ€”if it survives.</p>
          <div class="fig"><img id="fHodge1" alt="Hodge decomposition" /><div class="caption">Î©^k = Im d âŠ• Im Î´ âŠ• Harm^k with explicit pieces and spectra.</div><div class="actions"><a id="fHodge1Open" class="btn" target="_blank">open</a><a id="fHodge1Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>
          <div class="fig"><img id="fHodge2" alt="KÃ¤hler identities" /><div class="caption">KÃ¤hler identities and Hodge diamond constraints illustrated.</div><div class="actions"><a id="fHodge2Open" class="btn" target="_blank">open</a><a id="fHodge2Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>
          <div class="fig"><img id="fHodge3" alt="Ricci flow" /><div class="caption">Ricci flow as a computational narrative of curvature evolution.</div><div class="actions"><a id="fHodge3Open" class="btn" target="_blank">open</a><a id="fHodge3Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>

          <h2 id="operators">9. Operators and estimates</h2>
          <p>Maximal functions, singular integrals, Littlewoodâ€“Paley theory, Riesz transforms, and CalderÃ³nâ€“Zygmund: these are engines of regularity. They certify bounds that prose alone cannot protect. Carleson measures and Hardy spaces interface function theory with geometric control.</p>
          <div class="fig"><img id="fOp1" alt="Hardyâ€“Littlewood" /><div class="caption">Hardyâ€“Littlewood maximal inequality as a machineâ€‘checked bound.</div><div class="actions"><a id="fOp1Open" class="btn" target="_blank">open</a><a id="fOp1Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>
          <div class="fig"><img id="fOp2" alt="CZ operators" /><div class="caption">CalderÃ³nâ€“Zygmund operators in action.</div><div class="actions"><a id="fOp2Open" class="btn" target="_blank">open</a><a id="fOp2Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>
          <div class="fig"><img id="fOp3" alt="Riesz transforms" /><div class="caption">Riesz transforms and harmonic analysis on manifolds/graphs.</div><div class="actions"><a id="fOp3Open" class="btn" target="_blank">open</a><a id="fOp3Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>
          <div class="fig"><img id="fOp4" alt="Littlewoodâ€“Paley" /><div class="caption">Littlewoodâ€“Paley decompositions as operational frequency analysis.</div><div class="actions"><a id="fOp4Open" class="btn" target="_blank">open</a><a id="fOp4Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>
          <div class="fig"><img id="fCarleson1" alt="Carleson measures" /><div class="caption">Carleson measures as capacitary control in harmonic analysis.</div><div class="actions"><a id="fCarleson1Open" class="btn" target="_blank">open</a><a id="fCarleson1Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>

          <h2 id="graphs">10. Graphs and discrete spectra</h2>
          <p>Discrete Laplacians, Fiedler vectors, spectral partitions, and Hodge theory on graphs provide clean, reproducible statements about structure. Geometry migrates to the combinatorial without losing rigor.</p>
          <div class="fig"><img id="fGraph1" alt="Spectral graph theory" /><div class="caption">Spectral graph theory: eigenvectors that reveal structure.</div><div class="actions"><a id="fGraph1Open" class="btn" target="_blank">open</a><a id="fGraph1Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>
          <div class="fig"><img id="fGraph2" alt="Hodge on graphs" /><div class="caption">Hodge theory on graphs and discrete differential forms.</div><div class="actions"><a id="fGraph2Open" class="btn" target="_blank">open</a><a id="fGraph2Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>

          <h2 id="probability">11. Probability and limits</h2>
          <p>Limit theoremsâ€”LLN, CLT, large deviationsâ€”become visual arguments. When distributions converge, persuasion is unnecessary. Ergodic theorems provide timeâ€‘average/spaceâ€‘average equalities as artifacts rather than aphorisms.</p>
          <div class="fig"><img id="fProb1" alt="Limit theorems" /><div class="caption">LLN/CLT as the story of convergence.</div><div class="actions"><a id="fProb1Open" class="btn" target="_blank">open</a><a id="fProb1Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>
          <div class="fig"><img id="fErgodic1" alt="Ergodic theorems" /><div class="caption">Ergodic theorems on amenable groups and FÃ¸lner sets.</div><div class="actions"><a id="fErgodic1Open" class="btn" target="_blank">open</a><a id="fErgodic1Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>

          <h2 id="gmt">12. BV and geometric measure</h2>
          <p>Functions of bounded variation and coarea deliver geometric control with analytic tools. Rectifiability is earned, not assumed. Geometric measure theory supplies compactness and structure theorems that survive computation.</p>
          <div class="fig"><img id="fBV1" alt="BV functions" /><div class="caption">BV landscape: variation as a computable quantity.</div><div class="actions"><a id="fBV1Open" class="btn" target="_blank">open</a><a id="fBV1Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>
          <div class="fig"><img id="fBV2" alt="Coarea/rectifiability" /><div class="caption">Coarea and rectifiability criteria as constructive filters.</div><div class="actions"><a id="fBV2Open" class="btn" target="_blank">open</a><a id="fBV2Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>

          <h2 id="transport">13. Optimal transport</h2>
          <p>Wasserstein geometry provides a metric on probability. Curvatureâ€‘dimension conditions and displacement convexity become operational. Lottâ€“Sturmâ€“Villani recasts Ricci lower bounds into transport, turning curvature into inequality engines.</p>
          <div class="fig"><img id="fOT1" alt="Optimal transport" /><div class="caption">Geodesics in probability space as reproducible objects.</div><div class="actions"><a id="fOT1Open" class="btn" target="_blank">open</a><a id="fOT1Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>
          <div class="fig"><img id="fOT2" alt="LSV" /><div class="caption">Lottâ€“Sturmâ€“Villani synthetic curvature: inequalities that compile.</div><div class="actions"><a id="fOT2Open" class="btn" target="_blank">open</a><a id="fOT2Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>

          <h2 id="groups">14. Geometry of groups</h2>
          <p>Growth rates, amenability, and boundaries certify largeâ€‘scale behavior. Computations on Cayley graphs and FÃ¸lner sets make claims concrete. Random walks and Poisson boundaries quantify escape rates and harmonic measures.</p>
          <div class="fig"><img id="fGrp1" alt="Geometric group theory" /><div class="caption">Growth and quasiâ€‘isometry classes with constructive witnesses.</div><div class="actions"><a id="fGrp1Open" class="btn" target="_blank">open</a><a id="fGrp1Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>
          <div class="fig"><img id="fGrp2" alt="Random walks" /><div class="caption">Random walks on groups and Poisson boundaries as computed objects.</div><div class="actions"><a id="fGrp2Open" class="btn" target="_blank">open</a><a id="fGrp2Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>

          <h2 id="ktheory">15. Kâ€‘theory and higher structures</h2>
          <p>Algebraic Kâ€‘theory, operator Kâ€‘theory, and âˆâ€‘categories: higher structures become computable objects, not slogans. Examples and spectra are artifacts, not metaphors. Geometric representation theory and Langlands connect algebra, geometry, and analysis with diagrams that compute.</p>
          <div class="fig"><img id="fK1" alt="Algebraic Kâ€‘theory" /><div class="caption">Kâ€‘groups and examples under explicit generators/relations.</div><div class="actions"><a id="fK1Open" class="btn" target="_blank">open</a><a id="fK1Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>
          <div class="fig"><img id="fK2" alt="Operator Kâ€‘theory" /><div class="caption">Kâ€‘theory of C*â€‘algebras and indexâ€‘style invariants.</div><div class="actions"><a id="fK2Open" class="btn" target="_blank">open</a><a id="fK2Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>
          <div class="fig"><img id="fK3" alt="âˆâ€‘categories" /><div class="caption">Higher categories and HoTT rendered as executable diagrams.</div><div class="actions"><a id="fK3Open" class="btn" target="_blank">open</a><a id="fK3Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>
          <div class="fig"><img id="fRep1" alt="Geometric Langlands" /><div class="caption">Geometric Langlands: perverse sheaves and Dâ€‘modules as artifacts.</div><div class="actions"><a id="fRep1Open" class="btn" target="_blank">open</a><a id="fRep1Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>

          <h2 id="number">16. Number theory and modular forms</h2>
          <p>Modular forms, Lâ€‘functions, and spectral zeta encode arithmetic in analytic language. Automorphic forms make symmetry quantitative. Spectral zeros and Hecke eigenvalues become data rather than metaphors.</p>
          <div class="fig"><img id="fNum1" alt="Automorphic forms" /><div class="caption">Automorphic forms and Fourier/Hecke data visualized.</div><div class="actions"><a id="fNum1Open" class="btn" target="_blank">open</a><a id="fNum1Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>
          <div class="fig"><img id="fNum2" alt="L-functions" /><div class="caption">Lâ€‘functions and critical line structure (schematic).</div><div class="actions"><a id="fNum2Open" class="btn" target="_blank">open</a><a id="fNum2Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>

          <h2 id="lie">17. Lie groups and representation</h2>
          <p>Root systems, Weyl chambers, and representation theory translate symmetry into computation. Harmonic analysis on groups underpins spectral decompositions used throughout.</p>
          <div class="fig"><img id="fLie1" alt="Lie root systems" /><div class="caption">Lie root systems and Weyl chambers: symmetry landscapes.</div><div class="actions"><a id="fLie1Open" class="btn" target="_blank">open</a><a id="fLie1Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>
          <div class="fig"><img id="fLie2" alt="Harmonic analysis on groups" /><div class="caption">Harmonic analysis on groups: from convolution to representation.</div><div class="actions"><a id="fLie2Open" class="btn" target="_blank">open</a><a id="fLie2Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>

          <h2 id="riemann">18. Riemann surfaces and TeichmÃ¼ller</h2>
          <p>Riemann surfaces make complex analysis geometric; TeichmÃ¼ller theory turns moduli into geodesics. The figures turn uniformization and mapping class group dynamics into visual arguments.</p>
          <div class="fig"><img id="fRiem1" alt="TeichmÃ¼ller geodesics" /><div class="caption">TeichmÃ¼ller geodesics and moduli dynamics.</div><div class="actions"><a id="fRiem1Open" class="btn" target="_blank">open</a><a id="fRiem1Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>

          <h2 id="arithmetic">19. Arithmetic geometry (pâ€‘adic)</h2>
          <p>pâ€‘adic methods make Diophantine phenomena computable at scale. The figures demonstrate how nonâ€‘Archimedean geometry imposes arithmetic constraints visible in analytic shadows.</p>
          <div class="fig"><img id="fArith1" alt="p-adic/Diophantine" /><div class="caption">pâ€‘adic methods and Diophantine geometry in practice.</div><div class="actions"><a id="fArith1Open" class="btn" target="_blank">open</a><a id="fArith1Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>

          <h2 id="motivic">20. AÂ¹â€‘homotopy and motives</h2>
          <p>Motivic geometry reframes spaces as functors of points; AÂ¹â€‘homotopy measures deformation in arithmetic directions. The artifacts render these abstractions as computable diagrams.</p>
          <div class="fig"><img id="fMot1" alt="Motivic/A1" /><div class="caption">AÂ¹â€‘homotopy and motivic scaffolds as executable objects.</div><div class="actions"><a id="fMot1Open" class="btn" target="_blank">open</a><a id="fMot1Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>

          <h2 id="ergodic">21. Ergodic theory</h2>
          <p>From Birkhoff to pointwise ergodic theorems on amenable groups, the artifacts turn asymptotic equalities into measurable pictures. Mixing and entropy become visible.</p>
          <div class="fig"><img id="fErgodic2" alt="Ergodic amenable" /><div class="caption">Ergodic theorems on amenable groups, FÃ¸lner sets operationalized.</div><div class="actions"><a id="fErgodic2Open" class="btn" target="_blank">open</a><a id="fErgodic2Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>

          <h2 id="freeprob">22. Free probability</h2>
          <p>Free convolution and nonâ€‘commutative distributions illustrate universality classes distinct from classical limits. The spectra tell the story.</p>
          <div class="fig"><img id="fFree1" alt="Free probability" /><div class="caption">Free probability distributions and convolution schemes.</div><div class="actions"><a id="fFree1Open" class="btn" target="_blank">open</a><a id="fFree1Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>

          <h2 id="variational">23. Calculus of variations</h2>
          <p>Variational principles unify mechanics and analysis. Eulerâ€“Lagrange equations and minimality conditions become datasets: compute the extremal, test stability, report.</p>
          <div class="fig"><img id="fVar1" alt="Variational" /><div class="caption">Variational landscapes and Eulerâ€“Lagrange extremals.</div><div class="actions"><a id="fVar1Open" class="btn" target="_blank">open</a><a id="fVar1Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>

          <h2 id="isoperimetric">24. Isoperimetric inequality</h2>
          <p>Among sets of a given volume, spheres minimize perimeter. The artifact renders this extremality and its quantitative refinements.</p>
          <div class="fig"><img id="fIso1" alt="Isoperimetric" /><div class="caption">Isoperimetric inequality and quantitative stability.</div><div class="actions"><a id="fIso1Open" class="btn" target="_blank">open</a><a id="fIso1Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>

          <h2 id="distribution">25. Distribution theory</h2>
          <p>Tempered distributions and test functions translate singular phenomena into controlled linear objects. Pseudodifferential behavior gets a visual counterpart.</p>
          <div class="fig"><img id="fDist1" alt="Distribution theory" /><div class="caption">Distributions and regularization effects, compiled.</div><div class="actions"><a id="fDist1Open" class="btn" target="_blank">open</a><a id="fDist1Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>

          <h2 id="minimalsurfaces">26. Minimal surfaces</h2>
          <p>Plateaus and soap films are not metaphors but minimizers. The artifacts show existence, regularity, and instability in action.</p>
          <div class="fig"><img id="fMin1" alt="Minimal surfaces" /><div class="caption">Minimal surface formations as reproducible computations.</div><div class="actions"><a id="fMin1Open" class="btn" target="_blank">open</a><a id="fMin1Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>

          <h2 id="fractional">27. Fractional Sobolev/Besov</h2>
          <p>Nonlocal regularity and trace phenomena are made measurable with fractional spaces. Besov smoothness connects approximation to analysis.</p>
          <div class="fig"><img id="fFrac1" alt="Fractional" /><div class="caption">Fractional Sobolev/Besov spaces and embeddings.</div><div class="actions"><a id="fFrac1Open" class="btn" target="_blank">open</a><a id="fFrac1Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>

          <h2 id="carleson">28. Carleson measures</h2>
          <p>Carleson measures quantify boundary behavior and bridge PDE with complex/real analysis. The capacity viewpoint becomes operational.</p>
          <div class="fig"><img id="fCarl1" alt="Carleson" /><div class="caption">Carleson measure control and boundary regularity.</div><div class="actions"><a id="fCarl1Open" class="btn" target="_blank">open</a><a id="fCarl1Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>

          <h2 id="randomwalks">29. Random walks on groups</h2>
          <p>Random walks, Green functions, and Poisson boundaries reveal largeâ€‘scale geometry and harmonic measures. Amenability and growth become numerical stories.</p>
          <div class="fig"><img id="fRW1" alt="Random walks" /><div class="caption">Random walk escape rates and Poisson boundary behavior.</div><div class="actions"><a id="fRW1Open" class="btn" target="_blank">open</a><a id="fRW1Peer" class="btn" target="_blank">peerâ€‘review</a></div></div>

          <h2 id="reproduce">30. Reproduce and falsify</h2>
          <p>We encourage independent regeneration. If you can break an artifact by honest recomputation, the claim breaks with itâ€”send a patch. If it survives, strengthen it and take credit. This is mathematics without ceremony: only the argument remains.</p>
          <pre class="subtle">python figures/peer_review/sync_and_verify.py --rebuild-manifest
python figures/peer_review/sync_and_verify.py --prepare-submission</pre>
        </article>
      </div>
    </section>

    <section class="section" id="gallery">
      <h2>Complete Gallery</h2>
      <div class="controls">
        <div class="filterchips" id="chips"></div>
      </div>
      <div id="grid" class="grid"></div>
      <button class="btn loadmore" id="loadMore">Load More</button>
    </section>

    <section class="section">
      <div class="card">
        <h3>Reproduce it yourself</h3>
        <p class="subtle">Everything here is generated from code. Clone the repo and run the peerâ€‘review sync to rebuild the canonical set and arXiv copies:</p>
        <pre class="subtle" style="overflow:auto;">python figures/peer_review/sync_and_verify.py --generate-math
python figures/peer_review/sync_and_verify.py --prepare-submission</pre>
        <p class="subtle">Outputs: <code>figures/canonical_outputs/</code> (single source of truth) and <code>arxiv_paper/FIRM_FINAL_SUBMISSION/figures/peer_review/</code> (submissionâ€‘ready).</p>
      </div>
    </section>

    <section class="footer">
      <div>Â© Ex Nihilo Reality â€” All figures generated from code; see repository for provenance.</div>
    </section>
  </main>

  <script>
    const grid = document.getElementById('grid');
    const featuredGrid = document.getElementById('featuredGrid');
    const search = document.getElementById('search');
    const sort = document.getElementById('sort');
    const countBadge = document.getElementById('countBadge');
    const chips = document.getElementById('chips');
    const loadMoreBtn = document.getElementById('loadMore');
    const eliBtn = document.getElementById('eli25Toggle');

    let allFigures = [];
    let visible = 0;
    const PAGE = 40;

    const FEATURED = [
      'category_theory_phi_morphisms.png',
      'complete_lagrangian_formulation.png',
      'spectral_analysis_phi_operators.png',
      'riemannian_curvature_comparison.png',
      'probability_limit_theorems.png',
      'eilenberg_moore_spectral_sequence.png',
      'sobolev_spaces.png',
      'geometric_measure_theory.png',
      'hodge_decomposition.png',
      'random_matrix_theory.png'
    ];

    const FEATURED_CAPTIONS = {
      'category_theory_phi_morphisms.png': 'Morphism composition, functoriality, and Ï†â€‘naturality rendered as executable diagrams.',
      'complete_lagrangian_formulation.png': 'Unified field terms expressed as a single Lagrangianâ€”no narrative gaps.',
      'spectral_analysis_phi_operators.png': 'Eigenvalues, resolvent, and spectral measure computed from first principles.',
      'riemannian_curvature_comparison.png': 'Toponogov and Bishopâ€“Gromov comparisons made visual and verifiable.',
      'probability_limit_theorems.png': 'LLN and CLT transitions illustrated as density/cumulative convergence.',
      'eilenberg_moore_spectral_sequence.png': 'Eâ‚‚ pages and convergence behavior as machineâ€‘narrated homology.',
      'sobolev_spaces.png': 'HÂ¹/HÂ² norms with embedding behaviorâ€”inequalities you can audit.',
      'geometric_measure_theory.png': 'Coarea, coverings, and rectifiability as reproducible constructions.',
      'hodge_decomposition.png': 'Î©^k = Im d âŠ• Im Î´ âŠ• Harm^k with explicit pieces and spectra.',
      'random_matrix_theory.png': 'Wigner eigenvalues vs semicircle: the distribution speaks for itself.'
    };

    const CASES = [
      { imgId: 'case1img', ctaId: 'case1cta', peerId: 'case1peer', filename: 'category_theory_phi_morphisms.png' },
      { imgId: 'case2img', ctaId: 'case2cta', peerId: 'case2peer', filename: 'spectral_analysis_phi_operators.png' },
      { imgId: 'case3img', ctaId: 'case3cta', peerId: 'case3peer', filename: 'riemannian_curvature_comparison.png' },
      { imgId: 'case4img', ctaId: 'case4cta', peerId: 'case4peer', filename: 'eilenberg_moore_spectral_sequence.png' }
    ];

    const INTRO = [
      { imgId: 'intro1img', openId: 'intro1open', peerId: 'intro1peer', filename: 'category_theory_phi_morphisms.png' },
      { imgId: 'intro2img', openId: 'intro2open', peerId: 'intro2peer', filename: 'spectral_analysis_phi_operators.png' },
      { imgId: 'intro3img', openId: 'intro3open', peerId: 'intro3peer', filename: 'riemannian_curvature_comparison.png' }
    ];

    const RAW_BASE = 'https://raw.githubusercontent.com/ktynski/FIRM-Fractal-Identity-Recursive-Mechanics/main/';

    async function loadManifest() {
      try {
        const res = await fetch(RAW_BASE + 'figures/peer_review/figure_manifest.json', { cache: 'no-store' });
        if (res.ok) return res.json();
      } catch (e) {}
      return { figures: [] };
    }

    function canonicalUrl(entry) {
      const rel = entry.canonical_path || ('figures/canonical_outputs/' + entry.filename);
      return RAW_BASE + rel.replace(/^\/*/, '');
    }

    function canonicalUrlByName(filename) {
      const fig = allFigures.find(f => (f.filename||'').toLowerCase() === (filename||'').toLowerCase());
      if (fig) return canonicalUrl(fig);
      return RAW_BASE + 'figures/canonical_outputs/' + filename;
    }

    function arxivUrlByName(filename) {
      return RAW_BASE + 'arxiv_paper/FIRM_FINAL_SUBMISSION/figures/peer_review/' + filename;
    }

    function inferTags(f) {
      const s = (f.filename || '').toLowerCase();
      const tags = [];
      if (s.includes('category') || s.includes('topos')) tags.push('category');
      if (s.includes('geometry') || s.includes('riemann') || s.includes('manifold') || s.includes('curvature')) tags.push('geometry');
      if (s.includes('pde') || s.includes('elliptic') || s.includes('heat') || s.includes('schauder')) tags.push('pde');
      if (s.includes('prob') || s.includes('stochastic') || s.includes('random') || s.includes('clt') || s.includes('lln')) tags.push('probability');
      if (s.includes('topology') || s.includes('homology') || s.includes('cohomology') || s.includes('spectral_sequence')) tags.push('topology');
      if (s.includes('k_theory') || s.includes('algebraic') || s.includes('operator_k_theory')) tags.push('algebra');
      if (s.includes('operator') || s.includes('functional') || s.includes('riesz') || s.includes('maximal')) tags.push('analysis');
      if (s.includes('spectral') || s.includes('zeta')) tags.push('spectral');
      if (s.includes('number') || s.includes('p_adic') || s.includes('modular') || s.includes('automorphic')) tags.push('number');
      if (s.includes('lie')) tags.push('lie');
      if (s.includes('measure') || s.includes('bv') || s.includes('carleson')) tags.push('measure');
      if (s.includes('graph')) tags.push('graphs');
      return tags;
    }

    const activeTags = new Set();
    let tagCounts = {};

    function computeTagCounts() {
      tagCounts = {};
      for (const f of allFigures) {
        for (const t of inferTags(f)) {
          tagCounts[t] = (tagCounts[t] || 0) + 1;
        }
      }
    }

    function renderChips() {
      computeTagCounts();
      chips.innerHTML = '';
      const tagsSorted = Object.keys(tagCounts).sort((a,b)=> (tagCounts[b]-tagCounts[a]));
      for (const t of tagsSorted) {
        const count = tagCounts[t];
        if (!count) continue;
        const el = document.createElement('div');
        el.className = 'chip' + (activeTags.has(t) ? ' active' : '');
        el.textContent = `${t} (${count})`;
        el.onclick = () => { if (activeTags.has(t)) activeTags.delete(t); else activeTags.add(t); resetAndRender(); };
        chips.appendChild(el);
      }
    }

    function filteredSorted() {
      let q = (search.value || '').toLowerCase().trim();
      let arr = allFigures.filter(f => f.filename.toLowerCase().includes(q));
      if (activeTags.size) {
        arr = arr.filter(f => {
          const ts = inferTags(f);
          return ts.some(tag => activeTags.has(tag));
        });
      }
      const mode = sort.value;
      if (mode === 'width') arr.sort((a,b)=> (b.width||0)-(a.width||0));
      else if (mode === 'height') arr.sort((a,b)=> (b.height||0)-(a.height||0));
      else arr.sort((a,b)=> (a.filename||'').localeCompare(b.filename||''));
      return arr;
    }

    function resetAndRender() {
      visible = 0;
      grid.innerHTML = '';
      renderChips();
      const arr = filteredSorted();
      countBadge.textContent = arr.length;
      appendMore(arr);
    }

    function appendMore(arr) {
      const next = arr.slice(visible, visible + PAGE);
      visible += next.length;
      for (const f of next) grid.appendChild(tileFor(f));
      loadMoreBtn.style.display = (visible < arr.length) ? 'block' : 'none';
      loadMoreBtn.onclick = () => appendMore(arr);
    }

    function tileFor(f) {
      const tile = document.createElement('div');
      tile.className = 'tile';
      const img = document.createElement('img'); img.loading = 'lazy'; img.decoding = 'async'; img.src = canonicalUrl(f); img.alt = f.filename;
      img.onerror = () => { if (!img.dataset.fallback) { img.dataset.fallback = '1'; img.src = canonicalUrlByName('conceptual_overview_diagram.png'); } };
      const meta = document.createElement('div'); meta.className = 'meta';
      const name = document.createElement('div'); name.className = 'name'; name.textContent = f.filename;
      const dims = document.createElement('div'); dims.className = 'dims'; dims.textContent = `${f.width||'?'}Ã—${f.height||'?'}`;
      const actions = document.createElement('div'); actions.className = 'actions';
      const openBtn = document.createElement('a'); openBtn.className = 'btn'; openBtn.href = canonicalUrl(f); openBtn.target = '_blank'; openBtn.textContent = 'open';
      const rawBtn = document.createElement('a'); rawBtn.className = 'btn'; rawBtn.href = canonicalUrl(f); rawBtn.download = f.filename; rawBtn.textContent = 'download';
      actions.appendChild(openBtn); actions.appendChild(rawBtn);
      meta.appendChild(name); meta.appendChild(dims); meta.appendChild(actions);
      tile.appendChild(img); tile.appendChild(meta);
      return tile;
    }

    function tileForFeatured(f) {
      const tile = tileFor(f);
      const caption = FEATURED_CAPTIONS[f.filename];
      if (caption) {
        const cap = document.createElement('div');
        cap.className = 'subtle';
        cap.style.padding = '0 12px 10px 12px';
        cap.textContent = caption;
        tile.appendChild(cap);
      }
      return tile;
    }

    function linkCase(idImg, idCta, filename) {
      const fig = allFigures.find(f => (f.filename||'').toLowerCase() === filename.toLowerCase());
      if (!fig) return;
      const url = canonicalUrl(fig);
      const img = document.getElementById(idImg);
      const cta = document.getElementById(idCta);
      if (img) { img.src = url; img.onerror = () => { if (!img.dataset.fallback) { img.dataset.fallback='1'; img.src = canonicalUrlByName('conceptual_overview_diagram.png'); }} }
      if (cta) { cta.href = url; }
    }

    async function linkPeerCase(peerId, filename) {
      const peer = arxivUrlByName(filename);
      let url = peer;
      try {
        const r = await fetch(peer, { method: 'HEAD', cache: 'no-store' });
        if (!r.ok) url = canonicalUrlByName(filename);
      } catch (e) {
        url = canonicalUrlByName(filename);
      }
      const el = document.getElementById(peerId);
      if (el) { el.href = url; el.target = '_blank'; }
    }

    function linkIntro(imgId, openId, peerId, filename) {
      const url = canonicalUrlByName(filename);
      const img = document.getElementById(imgId);
      const open = document.getElementById(openId);
      const peer = document.getElementById(peerId);
      if (img) { img.src = url; img.onerror = () => { if (!img.dataset.fallback) { img.dataset.fallback='1'; img.src = canonicalUrlByName('conceptual_overview_diagram.png'); }} }
      if (open) open.href = url;
      if (peer) linkPeerCase(peerId, filename);
    }

    function setFigByName(imgId, openId, peerId, filename) {
      const url = canonicalUrlByName(filename);
      const img = document.getElementById(imgId);
      const open = document.getElementById(openId);
      if (img) { img.src = url; img.onerror = () => { if (!img.dataset.fallback) { img.dataset.fallback='1'; img.src = canonicalUrlByName('conceptual_overview_diagram.png'); }} }
      if (open) open.href = url;
      linkPeerCase(peerId, filename);
    }

    // ELI25 toggle: replace select paragraphs with layperson text
    const ELI_TEXT = {
      pAbs1: 'FIRM is a theory claiming that all physics comes from pure math, with no experimental inputs. It starts with 5 math rules, builds a "Grace operator" that converges using the golden ratio Ï† â‰ˆ 1.618, then uses Ï†-powers to predict exact values for fundamental constants like the fine structure constant (137.036) and particle masses. Think of it as discovering that the entire universe follows a simple mathematical pattern based on the golden ratio.',
      pAxioms: 'FIRM starts with 5 mathematical rules: (1) organize things in levels to avoid logical paradoxes, (2) each level can "see itself" in the next level, (3) chaotic things settle into stable patterns, (4) this settling process has a unique outcome, (5) consciousness emerges at Ï†â· thresholds. These are pure math rulesâ€”no physics assumptions whatsoever.',
      pGrace: 'The Grace operator is like a mathematical "stabilizer" that takes messy structures and cleans them up. When you apply it over and over (Grace, GraceÂ², GraceÂ³...), it settles down to stable points. The settling rate naturally gives the golden ratio Ï† = 1.618, which becomes nature\'s universal "heartbeat"â€”everything physical follows Ï†â¿ rhythms.',
      pPhi: 'Once Ï† emerges, every physical constant follows Ï†â¿ patterns like a musical scale. Fine structure constant: 137.036 from Ï†Â² level. Proton/electron mass ratio: 1836.15 from Ï†Â¹â° level. Dark energy: 68.5% from Ï†â»Â¹ level. The powers (2, 10, -1) aren\'t guessedâ€”they come from the deep mathematical structure of each phenomenon.',
      pLag: 'FIRM writes all of physics as one master equation with four parts: Ï†-field + forces + matter + gravity. The Ï†-field is incredibly versatileâ€”it drove the Big Bang inflation, creates dark energy today, and generates all particle masses. Quarks get heavier in Ï†â¿ jumps: light quarks (Ï†â°) â†’ strange (Ï†Â³) â†’ charm (Ï†â´) â†’ bottom (Ï†â·) â†’ top (Ï†Â¹Â¹).',
      pProv: 'FIRM\'s bold claim: everything derives from pure math with zero cheatingâ€”no fitted parameters, no experimental inputs, no curve-fitting. If any Ï†â¿ prediction fails (like if the fine structure constant â‰  137.035999084), the entire theory crashes. Current experiments match within measurement errors, but FIRM makes risky predictions that could kill it.',
      pMot: 'FIRM is a candidate "theory of everything" built from pure math. It addresses dark matter (through Ï†-field effects), inflation (Ï†-field drives it), the cosmological constant problem (dark energy = Ï†â»Â¹ Ã— 1.108), and particle mass hierarchies (Ï†â¿ scaling). It makes testable predictions that could prove or disprove it.',
      pArch: 'FIRM enforces extreme rigor: every figure and prediction comes from computer code with cryptographic fingerprints. You can download the code, run it yourself, and verify every claim independently. It\'s "mathematics that compiles"â€”like turning theoretical physics into software that either works or crashes, with no middle ground.'
    };

    let eliOn = false;
    function applyEli(on) {
      for (const id of Object.keys(ELI_TEXT)) {
        const el = document.getElementById(id);
        if (!el) continue;
        if (on) {
          if (!el.dataset.orig) el.dataset.orig = el.innerText;
          el.innerText = ELI_TEXT[id];
        } else if (el.dataset.orig) {
          el.innerText = el.dataset.orig;
        }
      }
      eliBtn.textContent = on ? 'Academic' : 'ELI25';
    }

    function renderFeatured(figures) {
      if (featuredGrid) {
        const curated = FEATURED.map(fn => figures.find(f => (f.filename||'').toLowerCase() === fn.toLowerCase())).filter(Boolean);
        featuredGrid.innerHTML = '';
        for (const f of curated) featuredGrid.appendChild(tileForFeatured(f));
      }
      for (const c of CASES) {
        linkCase(c.imgId, c.ctaId, c.filename);
        linkPeerCase(c.peerId, c.filename);
      }
      for (const i of INTRO) linkIntro(i.imgId, i.openId, i.peerId, i.filename);

      // Article figures mapping (use canonical filenames)
      setFigByName('fAbs1','fAbs1Open','fAbs1Peer','conceptual_overview_diagram.png');
      setFigByName('fGrace1','fGrace1Open','fGrace1Peer','grace_operator_fixed_point_convergence.png');
      setFigByName('fPhi1','fPhi1Open','fPhi1Peer','phi_recursion_rate_verification.png');
      setFigByName('fRecPot','fRecPotOpen','fRecPotPeer','recursive_potential_wells.png');
      setFigByName('fLag1','fLag1Open','fLag1Peer','complete_lagrangian_formulation.png');
      setFigByName('fBridge1','fBridge1Open','fBridge1Peer','dimensional_bridge_mapping.png');
      setFigByName('fGeom1','fGeom1Open','fGeom1Peer','riemannian_curvature_comparison.png');
      setFigByName('fGeom2','fGeom2Open','fGeom2Peer','symplectic_geometry.png');
      setFigByName('fPDE1','fPDE1Open','fPDE1Peer','sobolev_sharp_embeddings.png');
      setFigByName('fPDE2','fPDE2Open','fPDE2Peer','pde_regularity.png');
      setFigByName('fPDE3','fPDE3Open','fPDE3Peer','heat_kernel_manifolds.png');
      setFigByName('fSpec1','fSpec1Open','fSpec1Peer','spectral_analysis_phi_operators.png');
      setFigByName('fSpec2','fSpec2Open','fSpec2Peer','spectral_zeta_functions.png');
      setFigByName('fSpec3','fSpec3Open','fSpec3Peer','random_matrix_theory.png');
      setFigByName('fCat1','fCat1Open','fCat1Peer','category_theory_phi_morphisms.png');
      setFigByName('fCat2','fCat2Open','fCat2Peer','phi_infinity_categories_hott.png');
      setFigByName('fTop1','fTop1Open','fTop1Peer','eilenberg_moore_spectral_sequence.png');
      setFigByName('fTop2','fTop2Open','fTop2Peer','sheaf_cohomology_spectral_sequence.png');
      setFigByName('fTop3','fTop3Open','fTop3Peer','de_rham_cohomology.png');
      setFigByName('fHodge1','fHodge1Open','fHodge1Peer','hodge_decomposition.png');
      setFigByName('fHodge2','fHodge2Open','fHodge2Peer','kahler_identities.png');
      setFigByName('fHodge3','fHodge3Open','fHodge3Peer','ricci_flow.png');
      setFigByName('fOp1','fOp1Open','fOp1Peer','hardy_littlewood_maximal.png');
      setFigByName('fOp2','fOp2Open','fOp2Peer','calderon_zygmund_operators.png');
      setFigByName('fOp3','fOp3Open','fOp3Peer','riesz_transforms.png');
      setFigByName('fOp4','fOp4Open','fOp4Peer','littlewood_paley.png');
      setFigByName('fCarleson1','fCarleson1Open','fCarleson1Peer','carleson_measures.png');
      setFigByName('fGraph1','fGraph1Open','fGraph1Peer','spectral_graph_theory.png');
      setFigByName('fGraph2','fGraph2Open','fGraph2Peer','hodge_theory_on_graphs.png');
      setFigByName('fProb1','fProb1Open','fProb1Peer','probability_limit_theorems.png');
      setFigByName('fErgodic1','fErgodic1Open','fErgodic1Peer','ergodic_theorems_amenable_groups.png');
      setFigByName('fBV1','fBV1Open','fBV1Peer','bv_functions.png');
      setFigByName('fBV2','fBV2Open','fBV2Peer','rectifiability_criteria.png');
      setFigByName('fOT1','fOT1Open','fOT1Peer','optimal_transport.png');
      setFigByName('fOT2','fOT2Open','fOT2Peer','lott_sturm_villani_curvature.png');
      setFigByName('fGrp1','fGrp1Open','fGrp1Peer','geometric_group_theory.png');
      setFigByName('fGrp2','fGrp2Open','fGrp2Peer','random_walks_poisson_boundary.png');
      setFigByName('fK1','fK1Open','fK1Peer','algebraic_k_theory_examples.png');
      setFigByName('fK2','fK2Open','fK2Peer','operator_k_theory.png');
      setFigByName('fK3','fK3Open','fK3Peer','phi_infinity_categories_hott.png');
      setFigByName('fRep1','fRep1Open','fRep1Peer','geometric_langlands.png');
      setFigByName('fNum1','fNum1Open','fNum1Peer','automorphic_forms.png');
      setFigByName('fNum2','fNum2Open','fNum2Peer','phi_l_functions_modular_forms.png');
      setFigByName('fLie1','fLie1Open','fLie1Peer','phi_lie_groups_root_systems.png');
      setFigByName('fLie2','fLie2Open','fLie2Peer','harmonic_analysis_groups.png');
      setFigByName('fRiem1','fRiem1Open','fRiem1Peer','teichmueller_geodesics.png');
      setFigByName('fArith1','fArith1Open','fArith1Peer','phi_p_adic_methods_diophantine.png');
      setFigByName('fMot1','fMot1Open','fMot1Peer','phi_motivic_geometry_a1_homotopy.png');
      setFigByName('fErgodic2','fErgodic2Open','fErgodic2Peer','ergodic_theorems_amenable_groups.png');
      setFigByName('fFree1','fFree1Open','fFree1Peer','free_probability.png');
      setFigByName('fVar1','fVar1Open','fVar1Peer','calculus_of_variations.png');
      setFigByName('fIso1','fIso1Open','fIso1Peer','isoperimetric_inequality.png');
      setFigByName('fDist1','fDist1Open','fDist1Peer','distribution_theory.png');
      setFigByName('fMin1','fMin1Open','fMin1Peer','minimal_surfaces.png');
      setFigByName('fFrac1','fFrac1Open','fFrac1Peer','fractional_sobolev_besov.png');
      setFigByName('fCarl1','fCarl1Open','fCarl1Peer','carleson_measures.png');
      setFigByName('fRW1','fRW1Open','fRW1Peer','random_walks_poisson_boundary.png');
    }

    (async () => {
      const data = await loadManifest();
      allFigures = data.figures || [];
      renderFeatured(allFigures);
      resetAndRender();
      search.addEventListener('input', resetAndRender);
      sort.addEventListener('change', resetAndRender);
      if (eliBtn) eliBtn.addEventListener('click', () => { eliOn = !eliOn; applyEli(eliOn); });
    })();
  </script>
</body>
</html>
