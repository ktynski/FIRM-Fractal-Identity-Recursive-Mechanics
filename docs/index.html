<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ex Nihilo Reality ‚Äî Mathematics that compiles</title>
  <link rel="stylesheet" href="assets/site.css" />
  <style>
    .article { max-width: 1100px; margin: 40px auto; padding: 0 16px; }
    .article h1, .article h2, .article h3 { margin: 16px 0; }
    .article p { line-height: 1.7; margin: 12px 0; }
    .toc { position: sticky; top: 10px; align-self: flex-start; min-width: 240px; }
    .toc .card { position: sticky; top: 10px; }
    .articleLayout { display: grid; grid-template-columns: 1fr 3fr; gap: 16px; }
    .fig { margin: 18px 0; }
    .fig img { width: 100%; height: auto; border-radius: 8px; }
    .fig .caption { font-size: 14px; color: #667; margin-top: 6px; }
    @media (max-width: 980px){ .articleLayout { grid-template-columns: 1fr; } .toc{ position: initial; } }
  </style>
</head>
<body>
  <header class="header">
    <nav class="nav">
      <div class="brand">Ex Nihilo Reality</div>
      <a href="#gallery">Gallery</a>
      <a href="FIGURE_GALLERY.md">Markdown Index</a>
      <a href="https://github.com/ktynski/FIRM-Fractal-Identity-Recursive-Mechanics" target="_blank" rel="noopener">GitHub</a>
    </nav>
  </header>

  <main>
    <section class="hero">
      <div class="card">
        <h1>Mathematics that compiles</h1>
        <p class="subtle">We don‚Äôt debate‚Äîwe demonstrate. Every figure on this site is generated deterministically from code and mathematics, with full provenance and peer‚Äëreview readiness. Replace opinion with verification.</p>
        <div style="display:flex; gap:10px; margin-top:10px; flex-wrap:wrap;">
          <a class="cta" href="#article">Read the Article</a>
          <a class="cta secondary" href="#gallery">Browse All Figures</a>
        </div>
      </div>
      <div class="card">
        <h3>Principles of evidence</h3>
        <ul>
          <li><b>Show, don‚Äôt tell</b>: Claims are artifacts‚Äîfigures, derivations, code‚Äînot slogans.</li>
          <li><b>Ex Nihilo</b>: Zero empirical inputs; derivations flow from pure mathematics.</li>
          <li><b>Irreducible provenance</b>: Hashes, dimensions, and generator mapping for every figure.</li>
          <li><b>Reproducibility</b>: One command to regenerate the entire library.</li>
        </ul>
        <div class="controls">
          <div class="toolbar">
            <input class="search" id="search" placeholder="Search figure names‚Ä¶" />
            <select class="select" id="sort">
              <option value="name">Sort: Name</option>
              <option value="width">Sort: Width</option>
              <option value="height">Sort: Height</option>
            </select>
            <span class="badge" id="countBadge">0</span>
          </div>
        </div>
    </div>
    </section>

    <section class="article" id="article">
      <div class="articleLayout">
        <aside class="toc">
          <div class="card">
            <h3>Contents</h3>
            <ol>
              <li><a href="#abstract">Executive summary</a></li>
              <li><a href="#axioms">Foundational axioms</a></li>
              <li><a href="#grace">Grace operator</a></li>
              <li><a href="#phi">œÜ‚Äërecursion and fixed points</a></li>
              <li><a href="#lagskel">Lagrangian skeleton</a></li>
              <li><a href="#prov">Provenance & falsification</a></li>
              <li><a href="#motivation">A new standard of evidence</a></li>
              <li><a href="#architecture">Architecture of proof‚Äëby‚Äëconstruction</a></li>
              <li><a href="#geometry">Geometry that answers back</a></li>
              <li><a href="#pde">Sobolev, regularity, and kernels</a></li>
              <li><a href="#spectral">When spectra speak</a></li>
              <li><a href="#category">Categories that compute</a></li>
              <li><a href="#topology">Topology as a narrative</a></li>
              <li><a href="#hodge">Hodge, K√§hler, and flow</a></li>
              <li><a href="#operators">Operators and estimates</a></li>
              <li><a href="#graphs">Graphs and discrete spectra</a></li>
              <li><a href="#probability">Probability and limits</a></li>
              <li><a href="#gmt">BV and geometric measure</a></li>
              <li><a href="#transport">Optimal transport</a></li>
              <li><a href="#groups">Geometry of groups</a></li>
              <li><a href="#ktheory">K‚Äëtheory and higher structures</a></li>
              <li><a href="#number">Number theory and modular forms</a></li>
              <li><a href="#lie">Lie groups and representation</a></li>
              <li><a href="#riemann">Riemann surfaces and Teichm√ºller</a></li>
              <li><a href="#arithmetic">Arithmetic geometry (p‚Äëadic)</a></li>
              <li><a href="#motivic">A¬π‚Äëhomotopy and motives</a></li>
              <li><a href="#ergodic">Ergodic theory</a></li>
              <li><a href="#freeprob">Free probability</a></li>
              <li><a href="#variational">Calculus of variations</a></li>
              <li><a href="#isoperimetric">Isoperimetric inequality</a></li>
              <li><a href="#distribution">Distribution theory</a></li>
              <li><a href="#minimalsurfaces">Minimal surfaces</a></li>
              <li><a href="#fractional">Fractional Sobolev/Besov</a></li>
              <li><a href="#carleson">Carleson measures</a></li>
              <li><a href="#randomwalks">Random walks on groups</a></li>
              <li><a href="#reproduce">Reproduce and falsify</a></li>
            </ol>
          </div>
        </aside>

        <article>
          <h1>Mathematics that compiles: a guided tour</h1>
          <h2 id="abstract">0. Executive summary</h2>
          <p>FIRM is a mathematics‚Äëfirst program that constructs a single compositional scaffold from which all artifacts are generated. At its core is a stabilizing endofunctor (the Grace operator) whose fixed points define the admissible universe of constructions. A canonical œÜ‚Äërecursion emerges from contraction, providing a discrete scaling law. A minimal Lagrangian skeleton encodes interactions abstractly. Every figure here is a compiled consequence of that pipeline, with cryptographic provenance and peer‚Äëreview packaging.</p>
          <div class="fig"><img id="fAbs1" alt="Conceptual overview" /><div class="caption">Conceptual overview of the scaffold and compile pipeline.</div><div style="margin-top:6px;display:flex;gap:8px;"><a id="fAbs1Open" class="btn" target="_blank">open</a><a id="fAbs1Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>

          <h2 id="axioms">1. Foundational axioms</h2>
          <p>We posit a small axiom set: stratified totality (to block paradox), reflexive internalization (Yoneda‚Äëstyle embedding), stabilizing morphism (existence of Grace), and fixed‚Äëpoint coherence (closure under compiled constructions). These axioms are not tied to any physical interpretation; they exist to guarantee that the compile pipeline is both total and falsifiable.</p>

          <h2 id="grace">2. Grace operator</h2>
          <p>The Grace operator ùí¢ is a stabilizing endofunctor on a base category of constructions. Its contractive property ensures a unique fixed‚Äëpoint selection under iteration. Practically, this means that local constructions glue to global invariants without contradiction, and failures of stability are discoverable by direct recomputation.</p>
          <div class="fig"><img id="fGrace1" alt="Grace fixed‚Äëpoint convergence" /><div class="caption">Fixed‚Äëpoint convergence under ùí¢: contraction yields invariants.</div><div style="margin-top:6px;display:flex;gap:8px;"><a id="fGrace1Open" class="btn" target="_blank">open</a><a id="fGrace1Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>

          <h2 id="phi">3. œÜ‚Äërecursion and fixed points</h2>
          <p>Under mild conditions, contraction produces a canonical scaling‚ÄîœÜ‚Äîgoverning how compiled quantities ladder across levels. The œÜ‚Äërecursion provides a predictable staircase of compiled artifacts; deviations are a falsification signal.</p>
          <div class="fig"><img id="fPhi1" alt="œÜ‚Äërecursion" /><div class="caption">œÜ‚Äërecursion rate and compiled staircase behavior.</div><div style="margin-top:6px;display:flex;gap:8px;"><a id="fPhi1Open" class="btn" target="_blank">open</a><a id="fPhi1Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>
          <div class="fig"><img id="fRecPot" alt="Recursive potentials" /><div class="caption">Recursive potential landscape as a compiled attractor picture.</div><div style="margin-top:6px;display:flex;gap:8px;"><a id="fRecPotOpen" class="btn" target="_blank">open</a><a id="fRecPotPeer" class="btn" target="_blank">peer‚Äëreview</a></div></div>

          <h2 id="lagskel">4. Lagrangian skeleton</h2>
          <p>We present a minimal, abstract Lagrangian with fields and couplings parameterized by compiled invariants. This is not a physical model per se; it is a bookkeeping device ensuring that variation, symmetry, and coupling are encoded compositionally. The point is not a specific equation of motion, but that the equations exist as compiled consequences.</p>
          <div class="fig"><img id="fLag1" alt="Lagrangian skeleton" /><div class="caption">Abstract Lagrangian terms as a single compositional object.</div><div style="margin-top:6px;display:flex;gap:8px;"><a id="fLag1Open" class="btn" target="_blank">open</a><a id="fLag1Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>
          <div class="fig"><img id="fBridge1" alt="Dimensional bridge" /><div class="caption">Dimensional bridge mapping between compiled layers.</div><div style="margin-top:6px;display:flex;gap:8px;"><a id="fBridge1Open" class="btn" target="_blank">open</a><a id="fBridge1Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>

          <h2 id="prov">5. Provenance & falsification</h2>
          <p>Every artifact has a cryptographic hash, generator mapping, and dimensions recorded in a manifest. Rebuild the canonical set, compare hashes, and you will know if an argument survived. Falsification is simple: regenerate an artifact and check whether the invariant holds; report counterexamples as pull requests.</p>

          <h2 id="motivation">6. A new standard of evidence</h2>
          <p>We replace ‚Äútrust the author‚Äù with ‚Äútrust the artifact.‚Äù Each figure is the output of a generator tied to formal structure: theorems and constructions in geometry, analysis, topology, and category theory. If an argument survives regeneration from source, it earns the right to be believed; if it does not, it yields.</p>

          <h2 id="architecture">7. Architecture of proof‚Äëby‚Äëconstruction</h2>
          <p>The architecture has three primary beams. (i) <b>Composition</b>: categorical structure prevents local cleverness from breaking global coherence. (ii) <b>Spectrum</b>: operators adjudicate by revealing invariants that arguments must respect. (iii) <b>Flow</b>: geometric PDEs, curvature bounds, and spectral sequences propagate constraints until a claim either survives or collapses.</p>

          <h2 id="geometry">3. Geometry that answers back</h2>
          <p>Comparison theorems do not merely inspire pictures‚Äîthey produce certifiable bounds. Heat kernels do not merely suggest intuition‚Äîthey chart the actual diffusion of structure. The figures here are quantitative witnesses, not persuasive sketches.</p>
          <div class="fig">
            <img id="fGeom1" alt="Curvature comparison" />
            <div class="caption">Curvature comparison and Bishop‚ÄìGromov behavior rendered as reproducible constructions.</div>
            <div style="margin-top:6px; display:flex; gap:8px;">
              <a id="fGeom1Open" class="btn" target="_blank">open</a>
              <a id="fGeom1Peer" class="btn" target="_blank">peer‚Äëreview</a>
            </div>
          </div>
          <div class="fig">
            <img id="fGeom2" alt="Symplectic/flow" />
            <div class="caption">Symplectic structures and flows portrayed without hand‚Äëwaving: the construction is executable.</div>
            <div style="margin-top:6px; display:flex; gap:8px;">
              <a id="fGeom2Open" class="btn" target="_blank">open</a>
              <a id="fGeom2Peer" class="btn" target="_blank">peer‚Äëreview</a>
            </div>
          </div>

          <h2 id="pde">4. Sobolev, regularity, and kernels</h2>
          <p>Sobolev embeddings, Schauder estimates, and De Giorgi‚ÄìNash‚ÄìMoser regularity convert qualitative narratives into quantitative constraints. Heat kernels make the geometry of diffusion explicit. Fractional spaces (Besov/Sobolev) extend the reach to nonlocal regularity, and Calder√≥n‚ÄìZygmund operators turn singularities into controlled estimates.</p>
          <div class="fig"><img id="fPDE1" alt="Sobolev embeddings" /><div class="caption">Sharp embeddings and norm behavior made auditable.</div><div style="margin-top:6px; display:flex; gap:8px;"><a id="fPDE1Open" class="btn" target="_blank">open</a><a id="fPDE1Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>
          <div class="fig"><img id="fPDE2" alt="Regularity" /><div class="caption">Regularity via De Giorgi‚ÄìNash‚ÄìMoser and Schauder.</div><div style="margin-top:6px; display:flex; gap:8px;"><a id="fPDE2Open" class="btn" target="_blank">open</a><a id="fPDE2Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>
          <div class="fig"><img id="fPDE3" alt="Heat kernel" /><div class="caption">Heat kernel behavior on manifolds‚Äîgeometry meets diffusion.</div><div style="margin-top:6px; display:flex; gap:8px;"><a id="fPDE3Open" class="btn" target="_blank">open</a><a id="fPDE3Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>

          <h2 id="spectral">5. When spectra speak</h2>
          <p>Operators are honest narrators: their spectra cannot be talked into compliance. Our spectral figures compute eigenvalues, resolvents, and zeta‚Äëlike invariants that arbitrate competing intuitions. Where rhetoric stalls, the spectrum finishes the argument. Random matrix theory tests universality; spectral zeta and zero distributions encode deep arithmetic and geometric content.</p>
          <div class="fig"><img id="fSpec1" alt="Spectral analysis" /><div class="caption">Eigenstructures and resolvents as basis‚Äëinvariant evidence.</div><div style="margin-top:6px; display:flex; gap:8px;"><a id="fSpec1Open" class="btn" target="_blank">open</a><a id="fSpec1Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>
          <div class="fig"><img id="fSpec2" alt="Spectral zeta" /><div class="caption">Spectral zeta behavior and nontrivial zeros (schematic).</div><div style="margin-top:6px; display:flex; gap:8px;"><a id="fSpec2Open" class="btn" target="_blank">open</a><a id="fSpec2Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>
          <div class="fig"><img id="fSpec3" alt="Random matrices" /><div class="caption">Random matrix eigenvalue statistics vs semicircle.</div><div style="margin-top:6px; display:flex; gap:8px;"><a id="fSpec3Open" class="btn" target="_blank">open</a><a id="fSpec3Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>

          <h2 id="category">6. Categories that compute</h2>
          <p>Diagrams compile. Functoriality, naturality, and enrichment are not slogans but invariants that survive code generation. The categorical backbone is the guarantor of compositional honesty. Higher categories and HoTT provide the language to make equivalences and homotopies executable instead of rhetorical.</p>
          <div class="fig"><img id="fCat1" alt="Category/morphisms" /><div class="caption">œÜ‚Äëenhanced morphisms and functors under executable naturality.</div><div style="margin-top:6px; display:flex; gap:8px;"><a id="fCat1Open" class="btn" target="_blank">open</a><a id="fCat1Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>
          <div class="fig"><img id="fCat2" alt="‚àû-categories" /><div class="caption">‚àû‚Äëcategories and HoTT as compiled diagrams.</div><div style="margin-top:6px; display:flex; gap:8px;"><a id="fCat2Open" class="btn" target="_blank">open</a><a id="fCat2Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>

          <h2 id="topology">7. Topology as a narrative</h2>
          <p>Spectral sequences turn ‚Äúhand‚Äëwavy‚Äù topological stories into page‚Äëby‚Äëpage narratives with a destination. When the sequence converges, the claim is earned. When it does not, the obstruction is specific. De Rham cohomology and sheaf cohomology are not just symbols; they are datasets with structure you can regenerate.</p>
          <div class="fig"><img id="fTop1" alt="Eilenberg‚ÄìMoore" /><div class="caption">Eilenberg‚ÄìMoore pages and convergence to target homology.</div><div style="margin-top:6px; display:flex; gap:8px;"><a id="fTop1Open" class="btn" target="_blank">open</a><a id="fTop1Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>
          <div class="fig"><img id="fTop2" alt="Sheaf spectral sequence" /><div class="caption">Sheaf cohomology spectral sequence with executable pages.</div><div style="margin-top:6px; display:flex; gap:8px;"><a id="fTop2Open" class="btn" target="_blank">open</a><a id="fTop2Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>
          <div class="fig"><img id="fTop3" alt="de Rham" /><div class="caption">de Rham cohomology visualized: forms, differentials, and classes.</div><div style="margin-top:6px; display:flex; gap:8px;"><a id="fTop3Open" class="btn" target="_blank">open</a><a id="fTop3Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>

          <h2 id="hodge">8. Hodge, K√§hler, and flow</h2>
          <p>Hodge decomposition, K√§hler identities, and Ricci flow integrate analysis with geometry at full strength. The figures are not romantic; they are operational. Evolution under flow becomes an experiment: run it, measure it, believe it‚Äîif it survives.</p>
          <div class="fig"><img id="fHodge1" alt="Hodge decomposition" /><div class="caption">Œ©^k = Im d ‚äï Im Œ¥ ‚äï Harm^k with explicit pieces and spectra.</div><div style="margin-top:6px; display:flex; gap:8px;"><a id="fHodge1Open" class="btn" target="_blank">open</a><a id="fHodge1Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>
          <div class="fig"><img id="fHodge2" alt="K√§hler identities" /><div class="caption">K√§hler identities and Hodge diamond constraints illustrated.</div><div style="margin-top:6px; display:flex; gap:8px;"><a id="fHodge2Open" class="btn" target="_blank">open</a><a id="fHodge2Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>
          <div class="fig"><img id="fHodge3" alt="Ricci flow" /><div class="caption">Ricci flow as a computational narrative of curvature evolution.</div><div style="margin-top:6px; display:flex; gap:8px;"><a id="fHodge3Open" class="btn" target="_blank">open</a><a id="fHodge3Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>

          <h2 id="operators">9. Operators and estimates</h2>
          <p>Maximal functions, singular integrals, Littlewood‚ÄìPaley theory, Riesz transforms, and Calder√≥n‚ÄìZygmund: these are engines of regularity. They certify bounds that prose alone cannot protect. Carleson measures and Hardy spaces interface function theory with geometric control.</p>
          <div class="fig"><img id="fOp1" alt="Hardy‚ÄìLittlewood" /><div class="caption">Hardy‚ÄìLittlewood maximal inequality as a machine‚Äëchecked bound.</div><div style="margin-top:6px; display:flex; gap:8px;"><a id="fOp1Open" class="btn" target="_blank">open</a><a id="fOp1Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>
          <div class="fig"><img id="fOp2" alt="CZ operators" /><div class="caption">Calder√≥n‚ÄìZygmund operators in action.</div><div style="margin-top:6px; display:flex; gap:8px;"><a id="fOp2Open" class="btn" target="_blank">open</a><a id="fOp2Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>
          <div class="fig"><img id="fOp3" alt="Riesz transforms" /><div class="caption">Riesz transforms and harmonic analysis on manifolds/graphs.</div><div style="margin-top:6px; display:flex; gap:8px;"><a id="fOp3Open" class="btn" target="_blank">open</a><a id="fOp3Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>
          <div class="fig"><img id="fOp4" alt="Littlewood‚ÄìPaley" /><div class="caption">Littlewood‚ÄìPaley decompositions as operational frequency analysis.</div><div style="margin-top:6px; display:flex; gap:8px;"><a id="fOp4Open" class="btn" target="_blank">open</a><a id="fOp4Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>
          <div class="fig"><img id="fCarleson1" alt="Carleson measures" /><div class="caption">Carleson measures as capacitary control in harmonic analysis.</div><div style="margin-top:6px; display:flex; gap:8px;"><a id="fCarleson1Open" class="btn" target="_blank">open</a><a id="fCarleson1Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>

          <h2 id="graphs">10. Graphs and discrete spectra</h2>
          <p>Discrete Laplacians, Fiedler vectors, spectral partitions, and Hodge theory on graphs provide clean, reproducible statements about structure. Geometry migrates to the combinatorial without losing rigor.</p>
          <div class="fig"><img id="fGraph1" alt="Spectral graph theory" /><div class="caption">Spectral graph theory: eigenvectors that reveal structure.</div><div style="margin-top:6px; display:flex; gap:8px;"><a id="fGraph1Open" class="btn" target="_blank">open</a><a id="fGraph1Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>
          <div class="fig"><img id="fGraph2" alt="Hodge on graphs" /><div class="caption">Hodge theory on graphs and discrete differential forms.</div><div style="margin-top:6px; display:flex; gap:8px;"><a id="fGraph2Open" class="btn" target="_blank">open</a><a id="fGraph2Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>

          <h2 id="probability">11. Probability and limits</h2>
          <p>Limit theorems‚ÄîLLN, CLT, large deviations‚Äîbecome visual arguments. When distributions converge, persuasion is unnecessary. Ergodic theorems provide time‚Äëaverage/space‚Äëaverage equalities as artifacts rather than aphorisms.</p>
          <div class="fig"><img id="fProb1" alt="Limit theorems" /><div class="caption">LLN/CLT as the story of convergence.</div><div style="margin-top:6px; display:flex; gap:8px;"><a id="fProb1Open" class="btn" target="_blank">open</a><a id="fProb1Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>
          <div class="fig"><img id="fErgodic1" alt="Ergodic theorems" /><div class="caption">Ergodic theorems on amenable groups and F√∏lner sets.</div><div style="margin-top:6px; display:flex; gap:8px;"><a id="fErgodic1Open" class="btn" target="_blank">open</a><a id="fErgodic1Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>

          <h2 id="gmt">12. BV and geometric measure</h2>
          <p>Functions of bounded variation and coarea deliver geometric control with analytic tools. Rectifiability is earned, not assumed. Geometric measure theory supplies compactness and structure theorems that survive computation.</p>
          <div class="fig"><img id="fBV1" alt="BV functions" /><div class="caption">BV landscape: variation as a computable quantity.</div><div style="margin-top:6px; display:flex; gap:8px;"><a id="fBV1Open" class="btn" target="_blank">open</a><a id="fBV1Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>
          <div class="fig"><img id="fBV2" alt="Coarea/rectifiability" /><div class="caption">Coarea and rectifiability criteria as constructive filters.</div><div style="margin-top:6px; display:flex; gap:8px;"><a id="fBV2Open" class="btn" target="_blank">open</a><a id="fBV2Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>

          <h2 id="transport">13. Optimal transport</h2>
          <p>Wasserstein geometry provides a metric on probability. Curvature‚Äëdimension conditions and displacement convexity become operational. Lott‚ÄìSturm‚ÄìVillani recasts Ricci lower bounds into transport, turning curvature into inequality engines.</p>
          <div class="fig"><img id="fOT1" alt="Optimal transport" /><div class="caption">Geodesics in probability space as reproducible objects.</div><div style="margin-top:6px; display:flex; gap:8px;"><a id="fOT1Open" class="btn" target="_blank">open</a><a id="fOT1Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>
          <div class="fig"><img id="fOT2" alt="LSV" /><div class="caption">Lott‚ÄìSturm‚ÄìVillani synthetic curvature: inequalities that compile.</div><div style="margin-top:6px; display:flex; gap:8px;"><a id="fOT2Open" class="btn" target="_blank">open</a><a id="fOT2Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>

          <h2 id="groups">14. Geometry of groups</h2>
          <p>Growth rates, amenability, and boundaries certify large‚Äëscale behavior. Computations on Cayley graphs and F√∏lner sets make claims concrete. Random walks and Poisson boundaries quantify escape rates and harmonic measures.</p>
          <div class="fig"><img id="fGrp1" alt="Geometric group theory" /><div class="caption">Growth and quasi‚Äëisometry classes with constructive witnesses.</div><div style="margin-top:6px; display:flex; gap:8px;"><a id="fGrp1Open" class="btn" target="_blank">open</a><a id="fGrp1Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>
          <div class="fig"><img id="fGrp2" alt="Random walks" /><div class="caption">Random walks on groups and Poisson boundaries as computed objects.</div><div style="margin-top:6px; display:flex; gap:8px;"><a id="fGrp2Open" class="btn" target="_blank">open</a><a id="fGrp2Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>

          <h2 id="ktheory">15. K‚Äëtheory and higher structures</h2>
          <p>Algebraic K‚Äëtheory, operator K‚Äëtheory, and ‚àû‚Äëcategories: higher structures become computable objects, not slogans. Examples and spectra are artifacts, not metaphors. Geometric representation theory and Langlands connect algebra, geometry, and analysis with diagrams that compute.</p>
          <div class="fig"><img id="fK1" alt="Algebraic K‚Äëtheory" /><div class="caption">K‚Äëgroups and examples under explicit generators/relations.</div><div style="margin-top:6px; display:flex; gap:8px;"><a id="fK1Open" class="btn" target="_blank">open</a><a id="fK1Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>
          <div class="fig"><img id="fK2" alt="Operator K‚Äëtheory" /><div class="caption">K‚Äëtheory of C*‚Äëalgebras and index‚Äëstyle invariants.</div><div style="margin-top:6px; display:flex; gap:8px;"><a id="fK2Open" class="btn" target="_blank">open</a><a id="fK2Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>
          <div class="fig"><img id="fK3" alt="‚àû‚Äëcategories" /><div class="caption">Higher categories and HoTT rendered as executable diagrams.</div><div style="margin-top:6px; display:flex; gap:8px;"><a id="fK3Open" class="btn" target="_blank">open</a><a id="fK3Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>
          <div class="fig"><img id="fRep1" alt="Geometric Langlands" /><div class="caption">Geometric Langlands: perverse sheaves and D‚Äëmodules as artifacts.</div><div style="margin-top:6px; display:flex; gap:8px;"><a id="fRep1Open" class="btn" target="_blank">open</a><a id="fRep1Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>

          <h2 id="number">16. Number theory and modular forms</h2>
          <p>Modular forms, L‚Äëfunctions, and spectral zeta encode arithmetic in analytic language. Automorphic forms make symmetry quantitative. Spectral zeros and Hecke eigenvalues become data rather than metaphors.</p>
          <div class="fig"><img id="fNum1" alt="Automorphic forms" /><div class="caption">Automorphic forms and Fourier/Hecke data visualized.</div><div style="margin-top:6px; display:flex; gap:8px;"><a id="fNum1Open" class="btn" target="_blank">open</a><a id="fNum1Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>
          <div class="fig"><img id="fNum2" alt="L-functions" /><div class="caption">L‚Äëfunctions and critical line structure (schematic).</div><div style="margin-top:6px; display:flex; gap:8px;"><a id="fNum2Open" class="btn" target="_blank">open</a><a id="fNum2Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>

          <h2 id="lie">17. Lie groups and representation</h2>
          <p>Root systems, Weyl chambers, and representation theory translate symmetry into computation. Harmonic analysis on groups underpins spectral decompositions used throughout.</p>
          <div class="fig"><img id="fLie1" alt="Lie root systems" /><div class="caption">Lie root systems and Weyl chambers: symmetry landscapes.</div><div style="margin-top:6px; display:flex; gap:8px;"><a id="fLie1Open" class="btn" target="_blank">open</a><a id="fLie1Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>
          <div class="fig"><img id="fLie2" alt="Harmonic analysis on groups" /><div class="caption">Harmonic analysis on groups: from convolution to representation.</div><div style="margin-top:6px; display:flex; gap:8px;"><a id="fLie2Open" class="btn" target="_blank">open</a><a id="fLie2Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>

          <h2 id="riemann">18. Riemann surfaces and Teichm√ºller</h2>
          <p>Riemann surfaces make complex analysis geometric; Teichm√ºller theory turns moduli into geodesics. The figures turn uniformization and mapping class group dynamics into visual arguments.</p>
          <div class="fig"><img id="fRiem1" alt="Teichm√ºller geodesics" /><div class="caption">Teichm√ºller geodesics and moduli dynamics.</div><div style="margin-top:6px; display:flex; gap:8px;"><a id="fRiem1Open" class="btn" target="_blank">open</a><a id="fRiem1Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>

          <h2 id="arithmetic">19. Arithmetic geometry (p‚Äëadic)</h2>
          <p>p‚Äëadic methods make Diophantine phenomena computable at scale. The figures demonstrate how non‚ÄëArchimedean geometry imposes arithmetic constraints visible in analytic shadows.</p>
          <div class="fig"><img id="fArith1" alt="p-adic/Diophantine" /><div class="caption">p‚Äëadic methods and Diophantine geometry in practice.</div><div style="margin-top:6px; display:flex; gap:8px;"><a id="fArith1Open" class="btn" target="_blank">open</a><a id="fArith1Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>

          <h2 id="motivic">20. A¬π‚Äëhomotopy and motives</h2>
          <p>Motivic geometry reframes spaces as functors of points; A¬π‚Äëhomotopy measures deformation in arithmetic directions. The artifacts render these abstractions as computable diagrams.</p>
          <div class="fig"><img id="fMot1" alt="Motivic/A1" /><div class="caption">A¬π‚Äëhomotopy and motivic scaffolds as executable objects.</div><div style="margin-top:6px; display:flex; gap:8px;"><a id="fMot1Open" class="btn" target="_blank">open</a><a id="fMot1Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>

          <h2 id="ergodic">21. Ergodic theory</h2>
          <p>From Birkhoff to pointwise ergodic theorems on amenable groups, the artifacts turn asymptotic equalities into measurable pictures. Mixing and entropy become visible.</p>
          <div class="fig"><img id="fErgodic2" alt="Ergodic amenable" /><div class="caption">Ergodic theorems on amenable groups, F√∏lner sets operationalized.</div><div style="margin-top:6px; display:flex; gap:8px;"><a id="fErgodic2Open" class="btn" target="_blank">open</a><a id="fErgodic2Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>

          <h2 id="freeprob">22. Free probability</h2>
          <p>Free convolution and non‚Äëcommutative distributions illustrate universality classes distinct from classical limits. The spectra tell the story.</p>
          <div class="fig"><img id="fFree1" alt="Free probability" /><div class="caption">Free probability distributions and convolution schemes.</div><div style="margin-top:6px; display:flex; gap:8px;"><a id="fFree1Open" class="btn" target="_blank">open</a><a id="fFree1Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>

          <h2 id="variational">23. Calculus of variations</h2>
          <p>Variational principles unify mechanics and analysis. Euler‚ÄìLagrange equations and minimality conditions become datasets: compute the extremal, test stability, report.</p>
          <div class="fig"><img id="fVar1" alt="Variational" /><div class="caption">Variational landscapes and Euler‚ÄìLagrange extremals.</div><div style="margin-top:6px; display:flex; gap:8px;"><a id="fVar1Open" class="btn" target="_blank">open</a><a id="fVar1Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>

          <h2 id="isoperimetric">24. Isoperimetric inequality</h2>
          <p>Among sets of a given volume, spheres minimize perimeter. The artifact renders this extremality and its quantitative refinements.</p>
          <div class="fig"><img id="fIso1" alt="Isoperimetric" /><div class="caption">Isoperimetric inequality and quantitative stability.</div><div style="margin-top:6px; display:flex; gap:8px;"><a id="fIso1Open" class="btn" target="_blank">open</a><a id="fIso1Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>

          <h2 id="distribution">25. Distribution theory</h2>
          <p>Tempered distributions and test functions translate singular phenomena into controlled linear objects. Pseudodifferential behavior gets a visual counterpart.</p>
          <div class="fig"><img id="fDist1" alt="Distribution theory" /><div class="caption">Distributions and regularization effects, compiled.</div><div style="margin-top:6px; display:flex; gap:8px;"><a id="fDist1Open" class="btn" target="_blank">open</a><a id="fDist1Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>

          <h2 id="minimalsurfaces">26. Minimal surfaces</h2>
          <p>Plateaus and soap films are not metaphors but minimizers. The artifacts show existence, regularity, and instability in action.</p>
          <div class="fig"><img id="fMin1" alt="Minimal surfaces" /><div class="caption">Minimal surface formations as reproducible computations.</div><div style="margin-top:6px; display:flex; gap:8px;"><a id="fMin1Open" class="btn" target="_blank">open</a><a id="fMin1Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>

          <h2 id="fractional">27. Fractional Sobolev/Besov</h2>
          <p>Nonlocal regularity and trace phenomena are made measurable with fractional spaces. Besov smoothness connects approximation to analysis.</p>
          <div class="fig"><img id="fFrac1" alt="Fractional" /><div class="caption">Fractional Sobolev/Besov spaces and embeddings.</div><div style="margin-top:6px; display:flex; gap:8px;"><a id="fFrac1Open" class="btn" target="_blank">open</a><a id="fFrac1Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>

          <h2 id="carleson">28. Carleson measures</h2>
          <p>Carleson measures quantify boundary behavior and bridge PDE with complex/real analysis. The capacity viewpoint becomes operational.</p>
          <div class="fig"><img id="fCarl1" alt="Carleson" /><div class="caption">Carleson measure control and boundary regularity.</div><div style="margin-top:6px; display:flex; gap:8px;"><a id="fCarl1Open" class="btn" target="_blank">open</a><a id="fCarl1Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>

          <h2 id="randomwalks">29. Random walks on groups</h2>
          <p>Random walks, Green functions, and Poisson boundaries reveal large‚Äëscale geometry and harmonic measures. Amenability and growth become numerical stories.</p>
          <div class="fig"><img id="fRW1" alt="Random walks" /><div class="caption">Random walk escape rates and Poisson boundary behavior.</div><div style="margin-top:6px; display:flex; gap:8px;"><a id="fRW1Open" class="btn" target="_blank">open</a><a id="fRW1Peer" class="btn" target="_blank">peer‚Äëreview</a></div></div>

          <h2 id="reproduce">30. Reproduce and falsify</h2>
          <p>We encourage independent regeneration. If you can break an artifact by honest recomputation, the claim breaks with it‚Äîsend a patch. If it survives, strengthen it and take credit. This is mathematics without ceremony: only the argument remains.</p>
          <pre class="subtle">python figures/peer_review/sync_and_verify.py --rebuild-manifest
python figures/peer_review/sync_and_verify.py --prepare-submission</pre>
        </article>
      </div>
    </section>

    <section class="section" id="gallery">
      <h2>Complete Gallery</h2>
      <div class="controls">
        <div class="filterchips" id="chips"></div>
      </div>
      <div id="grid" class="grid"></div>
      <button class="btn loadmore" id="loadMore">Load More</button>
    </section>

    <section class="section">
      <div class="card">
        <h3>Reproduce it yourself</h3>
        <p class="subtle">Everything here is generated from code. Clone the repo and run the peer‚Äëreview sync to rebuild the canonical set and arXiv copies:</p>
        <pre class="subtle" style="overflow:auto;">python figures/peer_review/sync_and_verify.py --generate-math
python figures/peer_review/sync_and_verify.py --prepare-submission</pre>
        <p class="subtle">Outputs: <code>figures/canonical_outputs/</code> (single source of truth) and <code>arxiv_paper/FIRM_FINAL_SUBMISSION/figures/peer_review/</code> (submission‚Äëready).</p>
      </div>
    </section>

    <section class="footer">
      <div>¬© Ex Nihilo Reality ‚Äî All figures generated from code; see repository for provenance.</div>
    </section>
  </main>

  <script>
    const grid = document.getElementById('grid');
    const featuredGrid = document.getElementById('featuredGrid');
    const search = document.getElementById('search');
    const sort = document.getElementById('sort');
    const countBadge = document.getElementById('countBadge');
    const chips = document.getElementById('chips');
    const loadMoreBtn = document.getElementById('loadMore');

    let allFigures = [];
    let visible = 0;
    const PAGE = 40;

    const FEATURED = [
      'category_theory_phi_morphisms.png',
      'complete_lagrangian_formulation.png',
      'spectral_analysis_phi_operators.png',
      'riemannian_curvature_comparison.png',
      'probability_limit_theorems.png',
      'eilenberg_moore_spectral_sequence.png',
      'sobolev_spaces.png',
      'geometric_measure_theory.png',
      'hodge_decomposition.png',
      'random_matrix_theory.png'
    ];

    const FEATURED_CAPTIONS = {
      'category_theory_phi_morphisms.png': 'Morphism composition, functoriality, and œÜ‚Äënaturality rendered as executable diagrams.',
      'complete_lagrangian_formulation.png': 'Unified field terms expressed as a single Lagrangian‚Äîno narrative gaps.',
      'spectral_analysis_phi_operators.png': 'Eigenvalues, resolvent, and spectral measure computed from first principles.',
      'riemannian_curvature_comparison.png': 'Toponogov and Bishop‚ÄìGromov comparisons made visual and verifiable.',
      'probability_limit_theorems.png': 'LLN and CLT transitions illustrated as density/cumulative convergence.',
      'eilenberg_moore_spectral_sequence.png': 'E‚ÇÇ pages and convergence behavior as machine‚Äënarrated homology.',
      'sobolev_spaces.png': 'H¬π/H¬≤ norms with embedding behavior‚Äîinequalities you can audit.',
      'geometric_measure_theory.png': 'Coarea, coverings, and rectifiability as reproducible constructions.',
      'hodge_decomposition.png': 'Œ©^k = Im d ‚äï Im Œ¥ ‚äï Harm^k with explicit pieces and spectra.',
      'random_matrix_theory.png': 'Wigner eigenvalues vs semicircle: the distribution speaks for itself.'
    };

    const CASES = [
      { imgId: 'case1img', ctaId: 'case1cta', peerId: 'case1peer', filename: 'category_theory_phi_morphisms.png' },
      { imgId: 'case2img', ctaId: 'case2cta', peerId: 'case2peer', filename: 'spectral_analysis_phi_operators.png' },
      { imgId: 'case3img', ctaId: 'case3cta', peerId: 'case3peer', filename: 'riemannian_curvature_comparison.png' },
      { imgId: 'case4img', ctaId: 'case4cta', peerId: 'case4peer', filename: 'eilenberg_moore_spectral_sequence.png' }
    ];

    // Legacy intro tiles mapping (optional)
    const INTRO = [
      { imgId: 'intro1img', openId: 'intro1open', peerId: 'intro1peer', filename: 'category_theory_phi_morphisms.png' },
      { imgId: 'intro2img', openId: 'intro2open', peerId: 'intro2peer', filename: 'spectral_analysis_phi_operators.png' },
      { imgId: 'intro3img', openId: 'intro3open', peerId: 'intro3peer', filename: 'riemannian_curvature_comparison.png' }
    ];

    const RAW_BASE = 'https://raw.githubusercontent.com/ktynski/FIRM-Fractal-Identity-Recursive-Mechanics/main/';

    async function loadManifest() {
      try {
        const res = await fetch(RAW_BASE + 'figures/peer_review/figure_manifest.json', { cache: 'no-store' });
        if (res.ok) return res.json();
      } catch (e) {}
      return { figures: [] };
    }

    function canonicalUrl(entry) {
      const rel = entry.canonical_path || ('figures/canonical_outputs/' + entry.filename);
      return RAW_BASE + rel.replace(/^\/*/, '');
    }

    function canonicalUrlByName(filename) {
      const fig = allFigures.find(f => (f.filename||'').toLowerCase() === (filename||'').toLowerCase());
      if (fig) return canonicalUrl(fig);
      return RAW_BASE + 'figures/canonical_outputs/' + filename;
    }

    function arxivUrlByName(filename) {
      return RAW_BASE + 'arxiv_paper/FIRM_FINAL_SUBMISSION/figures/peer_review/' + filename;
    }

    function inferTags(f) {
      const s = (f.filename || '').toLowerCase();
      const tags = [];
      if (s.includes('category') || s.includes('topos')) tags.push('category');
      if (s.includes('geometry') || s.includes('riemann') || s.includes('manifold') || s.includes('curvature')) tags.push('geometry');
      if (s.includes('pde') || s.includes('elliptic') || s.includes('heat') || s.includes('schauder')) tags.push('pde');
      if (s.includes('prob') || s.includes('stochastic') || s.includes('random') || s.includes('clt') || s.includes('lln')) tags.push('probability');
      if (s.includes('topology') || s.includes('homology') || s.includes('cohomology') || s.includes('spectral_sequence')) tags.push('topology');
      if (s.includes('k_theory') || s.includes('algebraic') || s.includes('operator_k_theory')) tags.push('algebra');
      if (s.includes('operator') || s.includes('functional') || s.includes('riesz') || s.includes('maximal')) tags.push('analysis');
      if (s.includes('spectral') || s.includes('zeta')) tags.push('spectral');
      if (s.includes('number') || s.includes('p_adic') || s.includes('modular') || s.includes('automorphic')) tags.push('number');
      if (s.includes('lie')) tags.push('lie');
      if (s.includes('measure') || s.includes('bv') || s.includes('carleson')) tags.push('measure');
      if (s.includes('graph')) tags.push('graphs');
      return tags;
    }

    const activeTags = new Set();
    let tagCounts = {};

    function computeTagCounts() {
      tagCounts = {};
      for (const f of allFigures) {
        for (const t of inferTags(f)) {
          tagCounts[t] = (tagCounts[t] || 0) + 1;
        }
      }
    }

    function renderChips() {
      computeTagCounts();
      chips.innerHTML = '';
      const tagsSorted = Object.keys(tagCounts).sort((a,b)=> (tagCounts[b]-tagCounts[a]));
      for (const t of tagsSorted) {
        const count = tagCounts[t];
        if (!count) continue;
        const el = document.createElement('div');
        el.className = 'chip' + (activeTags.has(t) ? ' active' : '');
        el.textContent = `${t} (${count})`;
        el.onclick = () => { if (activeTags.has(t)) activeTags.delete(t); else activeTags.add(t); resetAndRender(); };
        chips.appendChild(el);
      }
    }

    function filteredSorted() {
      let q = (search.value || '').toLowerCase().trim();
      let arr = allFigures.filter(f => f.filename.toLowerCase().includes(q));
      if (activeTags.size) {
        arr = arr.filter(f => {
          const ts = inferTags(f);
          return ts.some(tag => activeTags.has(tag));
        });
      }
      const mode = sort.value;
      if (mode === 'width') arr.sort((a,b)=> (b.width||0)-(a.width||0));
      else if (mode === 'height') arr.sort((a,b)=> (b.height||0)-(a.height||0));
      else arr.sort((a,b)=> (a.filename||'').localeCompare(b.filename||''));
      return arr;
    }

    function resetAndRender() {
      visible = 0;
      grid.innerHTML = '';
      renderChips();
      const arr = filteredSorted();
      countBadge.textContent = arr.length;
      appendMore(arr);
    }

    function appendMore(arr) {
      const next = arr.slice(visible, visible + PAGE);
      visible += next.length;
      for (const f of next) grid.appendChild(tileFor(f));
      loadMoreBtn.style.display = (visible < arr.length) ? 'block' : 'none';
      loadMoreBtn.onclick = () => appendMore(arr);
    }

    function tileFor(f) {
      const tile = document.createElement('div');
      tile.className = 'tile';
      const img = document.createElement('img'); img.loading = 'lazy'; img.decoding = 'async'; img.src = canonicalUrl(f); img.alt = f.filename;
      const meta = document.createElement('div'); meta.className = 'meta';
      const name = document.createElement('div'); name.className = 'name'; name.textContent = f.filename;
      const dims = document.createElement('div'); dims.className = 'dims'; dims.textContent = `${f.width||'?'}√ó${f.height||'?'}`;
      const actions = document.createElement('div'); actions.className = 'actions';
      const openBtn = document.createElement('a'); openBtn.className = 'btn'; openBtn.href = canonicalUrl(f); openBtn.target = '_blank'; openBtn.textContent = 'open';
      const rawBtn = document.createElement('a'); rawBtn.className = 'btn'; rawBtn.href = canonicalUrl(f); rawBtn.download = f.filename; rawBtn.textContent = 'download';
      actions.appendChild(openBtn); actions.appendChild(rawBtn);
      meta.appendChild(name); meta.appendChild(dims); meta.appendChild(actions);
      tile.appendChild(img); tile.appendChild(meta);
      return tile;
    }

    function tileForFeatured(f) {
      const tile = tileFor(f);
      const caption = FEATURED_CAPTIONS[f.filename];
      if (caption) {
        const cap = document.createElement('div');
        cap.className = 'subtle';
        cap.style.padding = '0 12px 10px 12px';
        cap.textContent = caption;
        tile.appendChild(cap);
      }
      return tile;
    }

    function linkCase(idImg, idCta, filename) {
      const fig = allFigures.find(f => (f.filename||'').toLowerCase() === filename.toLowerCase());
      if (!fig) return;
      const url = canonicalUrl(fig);
      const img = document.getElementById(idImg);
      const cta = document.getElementById(idCta);
      if (img) img.src = url;
      if (cta) { cta.href = url; }
    }

    async function linkPeerCase(peerId, filename) {
      const peer = arxivUrlByName(filename);
      let url = peer;
      try {
        const r = await fetch(peer, { method: 'HEAD', cache: 'no-store' });
        if (!r.ok) url = canonicalUrlByName(filename);
      } catch (e) {
        url = canonicalUrlByName(filename);
      }
      const el = document.getElementById(peerId);
      if (el) { el.href = url; el.target = '_blank'; }
    }

    function linkIntro(imgId, openId, peerId, filename) {
      const url = canonicalUrlByName(filename);
      const img = document.getElementById(imgId);
      const open = document.getElementById(openId);
      const peer = document.getElementById(peerId);
      if (img) img.src = url;
      if (open) open.href = url;
      if (peer) linkPeerCase(peerId, filename);
    }

    function setFigByName(imgId, openId, peerId, filename) {
      const url = canonicalUrlByName(filename);
      const img = document.getElementById(imgId);
      const open = document.getElementById(openId);
      if (img) img.src = url;
      if (open) open.href = url;
      linkPeerCase(peerId, filename);
    }

    function renderFeatured(figures) {
      if (featuredGrid) {
        const curated = FEATURED.map(fn => figures.find(f => (f.filename||'').toLowerCase() === fn.toLowerCase())).filter(Boolean);
        featuredGrid.innerHTML = '';
        for (const f of curated) featuredGrid.appendChild(tileForFeatured(f));
      }
      for (const c of CASES) {
        linkCase(c.imgId, c.ctaId, c.filename);
        linkPeerCase(c.peerId, c.filename);
      }
      for (const i of INTRO) linkIntro(i.imgId, i.openId, i.peerId, i.filename);

      // Article figures mapping
      setFigByName('fAbs1','fAbs1Open','fAbs1Peer','conceptual_overview_diagram.png');
      setFigByName('fGrace1','fGrace1Open','fGrace1Peer','grace_fixed_point_convergence.png');
      setFigByName('fPhi1','fPhi1Open','fPhi1Peer','phi_recursion_rate.png');
      setFigByName('fRecPot','fRecPotOpen','fRecPotPeer','recursive_potentials.png');
      setFigByName('fLag1','fLag1Open','fLag1Peer','lagrangian_skeleton.png');
      setFigByName('fBridge1','fBridge1Open','fBridge1Peer','dimensional_bridge.png');
      setFigByName('fGeom1','fGeom1Open','fGeom1Peer','riemannian_curvature_comparison.png');
      setFigByName('fGeom2','fGeom2Open','fGeom2Peer','symplectic_geometry.png');
      setFigByName('fPDE1','fPDE1Open','fPDE1Peer','sobolev_sharp_embeddings.png');
      setFigByName('fPDE2','fPDE2Open','fPDE2Peer','pde_regularity.png');
      setFigByName('fPDE3','fPDE3Open','fPDE3Peer','heat_kernel_manifolds.png');
      setFigByName('fSpec1','fSpec1Open','fSpec1Peer','spectral_analysis_phi_operators.png');
      setFigByName('fSpec2','fSpec2Open','fSpec2Peer','spectral_zeta_functions.png');
      setFigByName('fSpec3','fSpec3Open','fSpec3Peer','random_matrix_theory.png');
      setFigByName('fCat1','fCat1Open','fCat1Peer','category_theory_phi_morphisms.png');
      setFigByName('fCat2','fCat2Open','fCat2Peer','phi_infinity_categories_hott.png');
      setFigByName('fTop1','fTop1Open','fTop1Peer','eilenberg_moore_spectral_sequence.png');
      setFigByName('fTop2','fTop2Open','fTop2Peer','sheaf_cohomology_spectral_sequence.png');
      setFigByName('fTop3','fTop3Open','fTop3Peer','de_rham_cohomology.png');
      setFigByName('fHodge1','fHodge1Open','fHodge1Peer','hodge_decomposition.png');
      setFigByName('fHodge2','fHodge2Open','fHodge2Peer','kahler_identities.png');
      setFigByName('fHodge3','fHodge3Open','fHodge3Peer','ricci_flow.png');
      setFigByName('fOp1','fOp1Open','fOp1Peer','hardy_littlewood_maximal.png');
      setFigByName('fOp2','fOp2Open','fOp2Peer','calderon_zygmund_operators.png');
      setFigByName('fOp3','fOp3Open','fOp3Peer','riesz_transforms.png');
      setFigByName('fOp4','fOp4Open','fOp4Peer','littlewood_paley.png');
      setFigByName('fCarleson1','fCarleson1Open','fCarleson1Peer','carleson_measures.png');
      setFigByName('fGraph1','fGraph1Open','fGraph1Peer','spectral_graph_theory.png');
      setFigByName('fGraph2','fGraph2Open','fGraph2Peer','hodge_theory_on_graphs.png');
      setFigByName('fProb1','fProb1Open','fProb1Peer','probability_limit_theorems.png');
      setFigByName('fErgodic1','fErgodic1Open','fErgodic1Peer','ergodic_theorems_amenable_groups.png');
      setFigByName('fBV1','fBV1Open','fBV1Peer','bv_functions.png');
      setFigByName('fBV2','fBV2Open','fBV2Peer','rectifiability_criteria.png');
      setFigByName('fOT1','fOT1Open','fOT1Peer','optimal_transport.png');
      setFigByName('fOT2','fOT2Open','fOT2Peer','lott_sturm_villani_curvature.png');
      setFigByName('fGrp1','fGrp1Open','fGrp1Peer','geometric_group_theory.png');
      setFigByName('fGrp2','fGrp2Open','fGrp2Peer','random_walks_poisson_boundary.png');
      setFigByName('fK1','fK1Open','fK1Peer','algebraic_k_theory_examples.png');
      setFigByName('fK2','fK2Open','fK2Peer','operator_k_theory.png');
      setFigByName('fK3','fK3Open','fK3Peer','phi_infinity_categories_hott.png');
      setFigByName('fRep1','fRep1Open','fRep1Peer','geometric_langlands.png');
      setFigByName('fNum1','fNum1Open','fNum1Peer','automorphic_forms.png');
      setFigByName('fNum2','fNum2Open','fNum2Peer','phi_l_functions_modular_forms.png');
      setFigByName('fLie1','fLie1Open','fLie1Peer','phi_lie_groups_root_systems.png');
      setFigByName('fLie2','fLie2Open','fLie2Peer','harmonic_analysis_groups.png');
      setFigByName('fRiem1','fRiem1Open','fRiem1Peer','teichmueller_geodesics.png');
      setFigByName('fArith1','fArith1Open','fArith1Peer','phi_p_adic_methods_diophantine.png');
      setFigByName('fMot1','fMot1Open','fMot1Peer','phi_motivic_geometry_a1_homotopy.png');
      setFigByName('fErgodic2','fErgodic2Open','fErgodic2Peer','ergodic_theorems_amenable_groups.png');
      setFigByName('fFree1','fFree1Open','fFree1Peer','free_probability.png');
      setFigByName('fVar1','fVar1Open','fVar1Peer','calculus_of_variations.png');
      setFigByName('fIso1','fIso1Open','fIso1Peer','isoperimetric_inequality.png');
      setFigByName('fDist1','fDist1Open','fDist1Peer','distribution_theory.png');
      setFigByName('fMin1','fMin1Open','fMin1Peer','minimal_surfaces.png');
      setFigByName('fFrac1','fFrac1Open','fFrac1Peer','fractional_sobolev_besov.png');
      setFigByName('fCarl1','fCarl1Open','fCarl1Peer','carleson_measures.png');
      setFigByName('fRW1','fRW1Open','fRW1Peer','random_walks_poisson_boundary.png');
    }

    (async () => {
      const data = await loadManifest();
      allFigures = data.figures || [];
      renderFeatured(allFigures);
      resetAndRender();
      search.addEventListener('input', resetAndRender);
      sort.addEventListener('change', resetAndRender);
    })();
  </script>
</body>
</html>
